<!DOCTYPE html>
<html lang="pt-BR">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Resumo do Pedido</title>
Â  Â  <style>
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  /* ESTILOS GERAIS E FONTES - MANTIDOS */
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  @font-face {
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2';
Â  Â  Â  Â  Â  Â  src: url('fonts/Basic Choice 2.ttf') format('truetype');
Â  Â  Â  Â  Â  Â  font-weight: normal;
Â  Â  Â  Â  Â  Â  font-style: normal;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  html, body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  background-color: #E09F41;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2', Arial, sans-serif;
Â  Â  Â  Â  Â  Â  overflow-x: hidden;
Â  Â  Â  Â  Â  Â  -webkit-overflow-scrolling: touch; 
Â  Â  Â  Â  Â  Â  padding-bottom: 70px; /* EspaÃ§o para o rodapÃ© fixo */
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  margin: auto;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  img {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  header img:first-child { 
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  /* BARRA DE NAVEGAÃ‡ÃƒO (STICKY) - MANTIDOS */
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  
Â  Â  Â  Â  #sticky-nav-container {
Â  Â  Â  Â  Â  Â  background-color: #E09F41; 
Â  Â  Â  Â  Â  Â  position: sticky; 
Â  Â  Â  Â  Â  Â  top: 0; 
Â  Â  Â  Â  Â  Â  z-index: 10; 
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 5px 0; 
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  #categorias-horizontal {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  overflow-x: scroll; 
Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  white-space: nowrap; 
Â  Â  Â  Â  Â  Â  -webkit-overflow-scrolling: touch; 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Esconde a barra de rolagem horizontal */
Â  Â  Â  Â  #categorias-horizontal::-webkit-scrollbar {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  #categorias-horizontal {
Â  Â  Â  Â  Â  Â  -ms-overflow-style: none;
Â  Â  Â  Â  Â  Â  scrollbar-width: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  #categorias-horizontal a {
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  Â  Â  margin-right: 10px;
Â  Â  Â  Â  Â  Â  background-color: #F4E6CB; 
Â  Â  Â  Â  Â  Â  color: #1A2B0F; 
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  Â  Â  flex-shrink: 0; 
Â  Â  Â  Â  Â  Â  scroll-snap-align: start; 
Â  Â  Â  Â  }

Â  Â  Â  Â  #categorias-horizontal a:hover {
Â  Â  Â  Â  Â  Â  background-color: #c9bda5;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Estilo da aba ATIVA */
Â  Â  Â  Â  #categorias-horizontal a.active-link {
Â  Â  Â  Â  Â  Â  background-color: #7FB1C8; 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  /* ESTILOS DAS TABELAS (e dos grupos para o filtro) - MANTIDOS */
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  .categoria-group {
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s ease; 
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Sobrescreve para mostrar o grupo ATIVO */
Â  Â  Â  Â  .categoria-group.active-group {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  .categoria-group img {
Â  Â  Â  Â  Â  Â  width: 50%; 
Â  Â  Â  Â  Â  Â  margin: 20px auto 10px auto;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  .categoria-group table {
Â  Â  Â  Â  Â  Â  width: 100%; 
Â  Â  Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ESTILO PADRÃƒO DA LINHA DIVISÃ“RIA */
Â  Â  Â  Â  .categoria-group tr { 
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #F4E6CB; 
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease-in-out; 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* CLASSE DE DESTAQUE PARA EDIÃ‡ÃƒO */
Â  Â  Â  Â  .highlight-edit { 
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 0, 0.4) !important; /* Destaque amarelo-claro */
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease-in-out; 
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Remove a borda inferior das linhas que iniciam ou continuam um grupo */
Â  Â  Â  Â  .item-group-active {
Â  Â  Â  Â  Â  Â  border-bottom: none !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Definindo larguras para as colunas da tabela padrÃ£o (com QNT. MÃN.) */
Â  Â  Â  Â  /* 1: Item (45%) | 2: QNT. MIN. (25%) | 3: UNID. (15%) | 4: QUANTIDADE (15%) */
Â  Â  Â  Â  .categoria-group:not(#grupo-cookies) th:nth-child(1), .categoria-group:not(#grupo-cookies) td:nth-child(1) { width: 45%; } 
Â  Â  Â  Â  .categoria-group:not(#grupo-cookies) th:nth-child(2), .categoria-group:not(#grupo-cookies) td:nth-child(2) { width: 25%; } 
Â  Â  Â  Â  .categoria-group:not(#grupo-cookies) th:nth-child(3), .categoria-group:not(#grupo-cookies) td:nth-child(3) { width: 15%; } 
Â  Â  Â  Â  .categoria-group:not(#grupo-cookies) th:nth-child(4), .categoria-group:not(#grupo-cookies) td:nth-child(4) { width: 15%; } 

Â  Â  Â  Â  /* *************************************************************** */
Â  Â  Â  Â  /* AJUSTE PARA A TABELA DE COOKIES (AGORA COM 3 COLUNAS NO HTML) */
Â  Â  Â  Â  /* *************************************************************** */
Â  Â  Â  Â  /* 1: Item | 2: UNID. (PreÃ§o) | 3: QUANTIDADE */
Â  Â  Â  Â  #tabela-cookies th:nth-child(1), #tabela-cookies td:nth-child(1) { width: 55%; } /* ITEM */
Â  Â  Â  Â  #tabela-cookies th:nth-child(2), #tabela-cookies td:nth-child(2) { width: 20%; } /* UNID. (PreÃ§o) */
Â  Â  Â  Â  #tabela-cookies th:nth-child(3), #tabela-cookies td:nth-child(3) { width: 25%; } /* QUANTIDADE */
Â  Â  Â  Â  
Â  Â  Â  Â  /* Ajustes finos para td/th */
Â  Â  Â  Â  th, td { 
Â  Â  Â  Â  Â  Â  padding: 10px 5px; 
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  vertical-align: middle;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Alinhamento da Coluna 1 (NÃƒO agrupada) */
Â  Â  Â  Â  .categoria-group table:not(#tabela-prato-salgado):not(#tabela-bolo-tradicional):not(#tabela-bolo-especial) td:nth-child(1) {
Â  Â  Â  Â  Â  Â  text-align: left; 
Â  Â  Â  Â  Â  Â  padding-left: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Alinhamento da Coluna 2 (QNT. MIN. ou UNID. em Cookies) */
Â  Â  Â  Â  .categoria-group td:nth-child(2), .categoria-group td:nth-child(1):not(.item-group-cell) {
Â  Â  Â  Â  Â  Â  Â text-align: center; 
Â  Â  Â  Â  Â  Â  Â padding-left: 5px; 
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  caption { display: none; }
Â  Â  Â  Â  header img + img { display: none; }

Â  Â  Â  Â  /* Cores (AJUSTADAS) */
Â  Â  Â  Â  
Â  Â  Â  Â  /* A cor dos dados das colunas QUANTIDADE (td) Ã© mantida em branco */
Â  Â  Â  Â  table#tabela-bolo-tradicional td:nth-child(4), table#tabela-bolo-especial td:nth-child(4), table#tabela-prato-salgado td:nth-child(4), table#tabela-doces td:nth-child(4), table#tabela-cookies td:nth-child(3), table#tabela-salfri td:nth-child(4), table#tabela-salgado-forno td:nth-child(4), table#tabela-salgado-vegetariano td:nth-child(4) { color: white; }

Â  Â  Â  Â  /* 2. Cor de todos os cabeÃ§alhos de coluna (ITEM, QNT. MÃN/tamanho, UNID., QUANTIDADE) Ã© definida como BRANCA */
Â  Â  Â  Â  th:nth-child(1), th:nth-child(2), th:nth-child(3), th:nth-child(4) { color: white; }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Corrige o item em si para a cor correta (MANTIDA EM BRANCO) */
Â  Â  Â  Â  table#tabela-bolo-tradicional td:nth-child(1), table#tabela-bolo-especial td:nth-child(1), table#tabela-prato-salgado td:nth-child(1), table#tabela-doces td:nth-child(1), table#tabela-cookies td:nth-child(1), table#tabela-salfri td:nth-child(1), table#tabela-salgado-forno td:nth-child(1), table#tabela-salgado-vegetariano td:nth-child(1) { color: white; }


Â  Â  Â  Â  .item-nome { font-weight: bold; color: inherit; }
Â  Â  Â  Â  .descricao { font-size: 12px; margin-top: 4px; color: inherit; }

Â  Â  Â  Â  .item-group-cell {
Â  Â  Â  Â  Â  Â  text-align: center; 
Â  Â  Â  Â  Â  Â  vertical-align: middle;
Â  Â  Â  Â  Â  Â  font-size: 16px; 
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Estilos do Input de Quantidade na Tabela Principal */
Â  Â  Â  Â  .quantidade-container { 
Â  Â  Â  Â  Â  Â  text-align: center; 
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column; /* Para empilhar o input e a mensagem de erro */
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .quantidade-container input[type="number"] { 
Â  Â  Â  Â  Â  Â  width: 90%; 
Â  Â  Â  Â  Â  Â  height: 40px; 
Â  Â  Â  Â  Â  Â  padding: 5px; 
Â  Â  Â  Â  Â  Â  font-size: 16px; 
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2', Arial, sans-serif;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  background-color: #F4E6CB; 
Â  Â  Â  Â  Â  Â  border: 2px solid #F4E6CB; 
Â  Â  Â  Â  Â  Â  color: #1A2B0F; 
Â  Â  Â  Â  Â  Â  border-radius: 10px; 
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  -moz-appearance: textfield; /* Firefox */
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* OCULTAÃ‡ÃƒO DE SETAS: Aplicado a ambos os inputs numÃ©ricos */
Â  Â  Â  Â  .quantidade-container input[type="number"]::-webkit-outer-spin-button,
Â  Â  Â  Â  .quantidade-container input[type="number"]::-webkit-inner-spin-button,
Â  Â  Â  Â  .resumo-item-input-group input::-webkit-outer-spin-button, 
Â  Â  Â  Â  .resumo-item-input-group input::-webkit-inner-spin-button {
Â  Â  Â  Â  Â  Â  -webkit-appearance: none;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* CORREÃ‡ÃƒO PARA MENSAGEM DE ERRO/MINIMO PARA DOCES, SALGADOS FRITOS E FORNO */
Â  Â  Â  Â  .erro-item-unico { 
Â  Â  Â  Â  Â  Â  color: red; 
Â  Â  Â  Â  Â  Â  display: none; 
Â  Â  Â  Â  Â  Â  font-size: 0.9em; 
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  Â  Â  /* ADICIONADO: Garante que a mensagem de erro individual nÃ£o quebre o layout */
Â  Â  Â  Â  Â  Â  line-height: 1.1; 
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  } 

Â  Â  Â  Â  /* NOVO ESTILO: Erro de mÃ­nimo na CATEGORIA (ex: Cookies) */
Â  Â  Â  Â  .erro-categoria {
Â  Â  Â  Â  Â  Â  color: red; 
Â  Â  Â  Â  Â  Â  font-size: 14px; 
Â  Â  Â  Â  Â  Â  margin-top: 10px; 
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  display: none; /* Inicia oculto */
Â  Â  Â  Â  Â  Â  padding-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  /* RODAPÃ‰ FIXO (RESUMO DO PEDIDO) - MANTIDOS */
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  #fixed-summary {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  bottom: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 600px; 
Â  Â  Â  Â  Â  Â  margin: auto;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  right: 0;
Â  Â  Â  Â  Â  Â  background-color: #F4E6CB; 
Â  Â  Â  Â  Â  Â  color: #1A2B0F; 
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  z-index: 50; 
Â  Â  Â  Â  Â  Â  display: none; 
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  }

Â  Â  Â  Â  #fixed-summary .summary-content {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  #summary-text {
Â  Â  Â  Â  Â  Â  line-height: 1.2;
Â  Â  Â  Â  }

Â  Â  Â  Â  #summary-text span {
Â  Â  Â  Â  Â  Â  font-size: 12px;
Â  Â  Â  Â  Â  Â  font-weight: normal;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  }

Â  Â  Â  Â  #summary-total {
Â  Â  Â  Â  Â  Â  font-size: 20px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #1A2B0F;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Cor do botÃ£o de rodapÃ© "Ver Pedido" alterada para o AZUL ESPECÃFICO */
Â  Â  Â  Â  #summary-button {
Â  Â  Â  Â  Â  Â  background-color: #7FB1C8; /* AZUL SOLICITADO */
Â  Â  Â  Â  Â  Â  color: white; 
Â  Â  Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  width: 150px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px #4c7e93; /* Sombra ajustada para o azul */
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  #summary-button:active {
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px #4c7e93;
Â  Â  Â  Â  Â  Â  transform: translateY(2px);
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */

Â  Â  Â  Â  /* Estilos de BotÃµes e Popup - MANTIDOS/AJUSTADOS */
Â  Â  Â  Â  select, input { text-align: center; }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Input do Pop-up e Input da Tabela principal (para padronizar) */
Â  Â  Â  Â  .popup input[type="number"] {
Â  Â  Â  Â  Â  Â  background-color: #F4E6CB; 
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  color: #1A2B0F;
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2', Arial, sans-serif;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* MODIFICAÃ‡ÃƒO AQUI: Fundo branco e fonte padronizada para inputs do resumo */
Â  Â  Â  Â  .resumo-item-input-group input {
Â  Â  Â  Â  Â  Â  background-color: white; /* Fundo branco solicitado */
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  color: #1A2B0F;
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2', Arial, sans-serif; /* Fonte padronizada */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Cor do botÃ£o primÃ¡rio (Fazer Pedido/Continuar Comprando) */
Â  Â  Â  Â  button { 
Â  Â  Â  Â  Â  Â  padding: 10px; 
Â  Â  Â  Â  Â  Â  border-radius: 20px; 
Â  Â  Â  Â  Â  Â  background-color: #7FB1C8; 
Â  Â  Â  Â  Â  Â  border: none; 
Â  Â  Â  Â  Â  Â  color: #FFF; 
Â  Â  Â  Â  Â  Â  cursor: pointer; 
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2', Arial, sans-serif; 
Â  Â  Â  Â  Â  Â  width: 100%; 
Â  Â  Â  Â  Â  Â  font-size: 18px; 
Â  Â  Â  Â  Â  Â  margin-top: 10px; /* Ajustado para espaÃ§amento consistente */
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px #4c7e93; /* Sombra padrÃ£o azul */
Â  Â  Â  Â  }
Â  Â  Â  Â  button:active {
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px #4c7e93;
Â  Â  Â  Â  Â  Â  transform: translateY(2px);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* MODIFICAÃ‡ÃƒO: Adicionando margem inferior ao botÃ£o VOLTAR */
Â  Â  Â  Â  #botao-voltar { 
Â  Â  Â  Â  Â  Â  background-color: #7FB1C8; 
Â  Â  Â  Â  Â  Â  color: #FFF; 
Â  Â  Â  Â  Â  Â  font-size: 18px; 
Â  Â  Â  Â  Â  Â  border: none; 
Â  Â  Â  Â  Â  Â  padding: 12px; 
Â  Â  Â  Â  Â  Â  border-radius: 20px; 
Â  Â  Â  Â  Â  Â  cursor: pointer; 
Â  Â  Â  Â  Â  Â  width: 100%; 
Â  Â  Â  Â  Â  Â  margin-top: 20px; 
Â  Â  Â  Â  Â  Â  /* ADICIONADO ESPAÃ‡AMENTO INFERIOR */
Â  Â  Â  Â  Â  Â  margin-bottom: 20px; 
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2', Arial, sans-serif; 
Â  Â  Â  Â  }

Â  Â  Â  Â  .erro { color: red; font-size: 14px; margin-top: 10px; }
Â  Â  Â  Â  
Â  Â  Â  Â  #resumo { display: none; } 
Â  Â  Â  Â  
Â  Â  Â  Â  /* Estilos do Popup Geral */
Â  Â  Â  Â  .popup { 
Â  Â  Â  Â  Â  Â  position: fixed; 
Â  Â  Â  Â  Â  Â  z-index: 100; 
Â  Â  Â  Â  Â  Â  left: 0; 
Â  Â  Â  Â  Â  Â  top: 0; 
Â  Â  Â  Â  Â  Â  width: 100%; 
Â  Â  Â  Â  Â  Â  height: 100%; 
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.5); 
Â  Â  Â  Â  Â  Â  justify-content: center; 
Â  Â  Â  Â  Â  Â  align-items: center; 
Â  Â  Â  Â  Â  Â  display: none; 
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  .popup-conteudo { 
Â  Â  Â  Â  Â  Â  background-color: #F4E6CB; 
Â  Â  Â  Â  Â  Â  padding: 20px; 
Â  Â  Â  Â  Â  Â  border-radius: 10px; 
Â  Â  Â  Â  Â  Â  width: 90%; 
Â  Â  Â  Â  Â  Â  max-width: 450px; 
Â  Â  Â  Â  Â  Â  text-align: center; 
Â  Â  Â  Â  Â  Â  position: relative; 
Â  Â  Â  Â  Â  Â  max-height: 80vh; 
Â  Â  Â  Â  Â  Â  overflow-y: auto; 
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* ÃCONE DE FECHAR NO CANTO DIREITO (CORREÃ‡ÃƒO) */
Â  Â  Â  Â  .fechar { 
Â  Â  Â  Â  Â  Â  color: #aaa; 
Â  Â  Â  Â  Â  Â  font-size: 28px; 
Â  Â  Â  Â  Â  Â  font-weight: bold; 
Â  Â  Â  Â  Â  Â  position: absolute; 
Â  Â  Â  Â  Â  Â  top: 10px; 
Â  Â  Â  Â  Â  Â  right: 20px; 
Â  Â  Â  Â  Â  Â  cursor: pointer; 
Â  Â  Â  Â  Â  Â  z-index: 110;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Estilos especÃ­ficos do conteÃºdo do Resumo */
Â  Â  Â  Â  .popup-conteudo h2 { color: #1A2B0F; font-size: 26px; font-weight: bold; }
Â  Â  Â  Â  .resumo-itens { text-align: left; padding-left: 0px; color: #1A2B0F; margin-bottom: 10px;}
Â  Â  Â  Â  
Â  Â  Â  Â  /* ESTILOS DE TOTAIS */
Â  Â  Â  Â  .resumo-total { 
Â  Â  Â  Â  Â  Â  text-align: right; 
Â  Â  Â  Â  Â  Â  font-size: 22px; 
Â  Â  Â  Â  Â  Â  font-weight: bold; 
Â  Â  Â  Â  Â  Â  color: #1A2B0F; 
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .resumo-total-line {
Â  Â  Â  Â  Â  Â  font-size: 16px; /* Menor que o TOTAL FINAL */
Â  Â  Â  Â  Â  Â  font-weight: normal;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .resumo-total-line.total-com-desconto {
Â  Â  Â  Â  Â  Â  color: #E60000;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Separador visual */
Â  Â  Â  Â  #popup-resumo-total {
Â  Â  Â  Â  Â  Â  Â border-top: 1px dashed #7FB1C8; 
Â  Â  Â  Â  Â  Â  Â padding-top: 10px;
Â  Â  Â  Â  Â  Â  Â margin-top: 10px;
Â  Â  Â  Â  }


Â  Â  Â  Â  /* Estilo do preÃ§o original riscado */
Â  Â  Â  Â  .price-original-item {
Â  Â  Â  Â  Â  Â  text-decoration: line-through;
Â  Â  Â  Â  Â  Â  color: #888;
Â  Â  Â  Â  Â  Â  font-weight: normal;
Â  Â  Â  Â  Â  Â  margin-right: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Estilo do preÃ§o final com desconto */
Â  Â  Â  Â  .price-final-item {
Â  Â  Â  Â  Â  Â  Â color: #E60000; /* Vermelho para destaque de desconto */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Estilo para cada item do resumo (linha do produto) */
Â  Â  Â  Â  .resumo-item-line {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center; /* Alinha tudo verticalmente */
Â  Â  Â  Â  Â  Â  border-bottom: 1px dashed #7FB1C8; 
Â  Â  Â  Â  Â  Â  padding: 8px 0;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* ContÃ©m o nome do item e o preÃ§o total (do item) */
Â  Â  Â  Â  .resumo-item-name {
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  margin-right: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Estilo do preÃ§o no nome do item */
Â  Â  Â  Â  .resumo-item-name small {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  font-weight: normal;
Â  Â  Â  Â  Â  Â  color: #1A2B0F;
Â  Â  Â  Â  }
Â  Â  Â  Â  .resumo-item-name .price-final-item {
Â  Â  Â  Â  Â  Â  Â color: #1A2B0F; /* O preÃ§o com desconto permanece preto aqui */
Â  Â  Â  Â  Â  Â  Â font-weight: bold;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Grupo de ediÃ§Ã£o e exclusÃ£o no pop-up */
Â  Â  Â  Â  .resumo-item-input-group {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  gap: 5px; /* ESPAÃ‡AMENTO REDUZIDO ENTRE UNIDADE E INPUT */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Estilo para o campo de input na ediÃ§Ã£o direta (como na imagem) */
Â  Â  Â  Â  .resumo-item-input-group input {
Â  Â  Â  Â  Â  Â  width: 55px; 
Â  Â  Â  Â  Â  Â  height: 35px; 
Â  Â  Â  Â  Â  Â  padding: 5px;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  margin: 0; /* CORREÃ‡ÃƒO: Aproxima o input do UN. */
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  -moz-appearance: textfield; 
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* BotÃ£o de excluir (Excluir) - PADRONIZADO COM APLICAR */
Â  Â  Â  Â  .btn-excluir {
Â  Â  Â  Â  Â  Â  background-color: #E60000; 
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  width: 70px; 
Â  Â  Â  Â  Â  Â  font-size: 12px; 
Â  Â  Â  Â  Â  Â  padding: 10px 0; /* AUMENTADO para igualar a altura do botÃ£o APLICAR */
Â  Â  Â  Â  Â  Â  margin: 0 0 0 10px; /* MAIOR ESPAÃ‡AMENTO com UNIDADE */
Â  Â  Â  Â  Â  Â  border-radius: 10px; 
Â  Â  Â  Â  Â  Â  box-shadow: none;
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  line-height: 1; /* Centraliza o texto verticalmente */
Â  Â  Â  Â  Â  Â  height: 40px; /* Garante a altura */
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* ----------------- CUPOM STYLES ----------------- */
Â  Â  Â  Â  #cupom-container {
Â  Â  Â  Â  Â  Â  background-color: #e8dcc6; 
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  color: #1A2B0F;
Â  Â  Â  Â  }

Â  Â  Â  Â  #cupom-input-group {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  #cupom-input {
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  border: 1px solid #7FB1C8;
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  color: #1A2B0F;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  height: 40px; /* Ajuste para alinhar com o botÃ£o APLICAR */
Â  Â  Â  Â  }

Â  Â  Â  Â  #apply-cupom-btn {
Â  Â  Â  Â  Â  Â  width: 70px; 
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  padding: 10px 0; 
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  background-color: #E09F41; /* Laranja para destaque */
Â  Â  Â  Â  Â  Â  border-radius: 10px; 
Â  Â  Â  Â  Â  Â  height: 40px; /* Garante a altura para alinhar com o input */
Â  Â  Â  Â  }

Â  Â  Â  Â  .cupom-message {
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cupom-error {
Â  Â  Â  Â  Â  Â  color: red;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cupom-success {
Â  Â  Â  Â  Â  Â  color: green;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  /* ESTILOS DO POPUP DE INFORMAÃ‡Ã•ES DO PEDIDO (Novo Estilo) */
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */
Â  Â  Â  Â  #form-pedido {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column; /* Coloca os filhos em coluna */
Â  Â  Â  Â  Â  Â  gap: 15px; /* EspaÃ§amento entre os campos */
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  color: #1A2B0F; /* Cor do texto do rÃ³tulo */
Â  Â  Â  Â  }

Â  Â  Â  Â  #form-pedido label {
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  margin-bottom: -5px; /* Ajuste para aproximar do campo */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Estilo para todos os inputs e selects dentro do formulÃ¡rio */
Â  Â  Â  Â  #form-pedido input[type="text"],
Â  Â  Â  Â  #form-pedido input[type="date"],
Â  Â  Â  Â  #form-pedido input[type="time"],
Â  Â  Â  Â  #form-pedido select {
Â  Â  Â  Â  Â  Â  /* Cor de fundo branca, conforme solicitaÃ§Ã£o (como o campo de cupom) */
Â  Â  Â  Â  Â  Â  background-color: white; 
Â  Â  Â  Â  Â  Â  color: #1A2B0F;
Â  Â  Â  Â  Â  Â  border: 1px solid #7FB1C8; /* Borda azul padrÃ£o do site */
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  font-family: 'Basic Choice 2', Arial, sans-serif;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  width: 100%; /* Ocupa a largura total para quebrar a linha */
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  text-align: left; /* Alinhamento do texto */
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Ajuste do input de nome para alinhamento esquerdo */
Â  Â  Â  Â  #form-pedido input[type="text"] {
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* PADRONIZAÃ‡ÃƒO dos botÃµes (CONFIRMAR/EDITAR/CONTINUAR COMPRANDO) com o botÃ£o azul principal */
Â  Â  Â  Â  #form-pedido button {
Â  Â  Â  Â  Â  Â  background-color: #7FB1C8; /* Cor azul do "CONTINUAR COMPRANDO" */
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px #4c7e93; /* Sombra do "CONTINUAR COMPRANDO" */
Â  Â  Â  Â  Â  Â  margin-top: 15px; /* EspaÃ§amento padrÃ£o */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* O botÃ£o "CONTINUAR COMPRANDO" (era Cancelar) mantÃ©m o estilo do botÃ£o azul */
Â  Â  Â  Â  #form-pedido button:nth-of-type(2) { 
Â  Â  Â  Â  Â  Â  background-color: #7FB1C8;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px #4c7e93;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ---------------------------------------------------------------------- */


Â  Â  Â  Â  /* Media Queries (Mantidos) */
Â  Â  Â  Â  @media (min-width: 768px) {
Â  Â  Â  Â  Â  Â  header img:first-child { content: url('topodesktop.png'); }
Â  Â  Â  Â  Â  Â  footer img { content: url('rodadesktop.png'); }
Â  Â  Â  Â  Â  Â  #fixed-summary {
Â  Â  Â  Â  Â  Â  Â  Â  Â max-width: 600px; 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  @media (max-width: 767px) {
Â  Â  Â  Â  Â  Â  header img:nth-of-type(2) { display: none; } 
Â  Â  Â  Â  Â  Â  header img, footer img { width: 100%; }
Â  Â  Â  Â  }
Â  Â  </style>
Â  Â  
</head>
<body>
Â  Â  <div class="container">
Â  Â  Â  Â  <header>
Â  Â  Â  Â  Â  Â  <img src="topo.png" alt="Topo">
Â  Â  Â  Â  </header>

Â  Â  Â  Â  <div id="sticky-nav-container">
Â  Â  Â  Â  Â  Â  <div id="categorias-horizontal">
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-bolo-tradicional" data-target="grupo-bolo-tradicional" data-img="img-bolo-tradicional">Bolos Tradicionais</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-bolo-especial" data-target="grupo-bolo-especial" data-img="img-bolo-especial">Bolos Especiais</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-doces" data-target="grupo-doces" data-img="img-doces">Doces</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-cookies" data-target="grupo-cookies" data-img="img-cookies">Cookies</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-salfri" data-target="grupo-salfri" data-img="img-salfri">Salgados Fritos</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-salgado-forno" data-target="grupo-salgado-forno" data-img="img-salgado-forno">Salgados Forno</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-salgado-vegetariano" data-target="grupo-salgado-vegetariano" data-img="img-salgado-vegetariano">Salgados Vegetarianos</a>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="#grupo-prato-salgado" data-target="grupo-prato-salgado" data-img="img-prato-salgado">Pratos Salgados</a>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  <div class="categoria-group active-group" id="grupo-bolo-tradicional">
Â  Â  Â  Â  Â  Â  <img src="BOLTRA.png" alt="Bolos Tradicionais" id="img-bolo-tradicional"> <table id="tabela-bolo-tradicional">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Bolos Tradicionais</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>tamanho</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="categoria-group" id="grupo-bolo-especial">
Â  Â  Â  Â  Â  Â  <img src="BOLESP.png" alt="Bolos Especiais" id="img-bolo-especial"> <table id="tabela-bolo-especial">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Bolos Especiais</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>tamanho</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="categoria-group" id="grupo-doces">
Â  Â  Â  Â  Â  Â  <img src="DOCS.png" alt="Doces" id="img-doces"> <table id="tabela-doces">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Doces</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QNT. MÃN.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="categoria-group" id="grupo-cookies">
Â  Â  Â  Â  Â  Â  <img src="cookies.png" alt="Cookies" id="img-cookies"> 
Â  Â  Â  Â  Â  Â  <div id="erro-cookies" class="erro-categoria">MÃ­nimo de 3 unidades na categoria Cookies.</div> 
Â  Â  Â  Â  Â  Â  <table id="tabela-cookies">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Cookies</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="categoria-group" id="grupo-salfri">
Â  Â  Â  Â  Â  Â  <img src="salfri.png" alt="Salgados Fritos" id="img-salfri"> <table id="tabela-salfri">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Salgados Fritos</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QNT. MÃN.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tby>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="categoria-group" id="grupo-salgado-forno">
Â  Â  Â  Â  Â  Â  <img src="SALFOR.png" alt="Salgados Forno" id="img-salgado-forno"> <table id="tabela-salgado-forno">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Salgados Forno</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QNT. MÃN.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="categoria-group" id="grupo-salgado-vegetariano">
Â  Â  Â  Â  Â  Â  <img src="SALVEG.png" alt="Salgados Vegetarianos" id="img-salgado-vegetariano"> <table id="tabela-salgado-vegetariano">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Salgados Vegetarianos</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QNT. MÃN.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  <div class="categoria-group" id="grupo-prato-salgado">
Â  Â  Â  Â  Â  Â  <img src="PRASAL.png" alt="Pratos Salgados" id="img-prato-salgado"> <table id="tabela-prato-salgado">
Â  Â  Â  Â  Â  Â  Â  Â  <caption>Pratos Salgados</caption>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ITEM</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>tamanho</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>UNID.</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>QUANTIDADE</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tbody></tby>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  
Â  Â  Â  Â  <div id="resumo" style="display:none;"> 
Â  Â  Â  Â  Â  Â  <h2>Resumo do Pedido</h2>
Â  Â  Â  Â  Â  Â  <div id="resumo-itens" class="resumo-itens"></div>
Â  Â  Â  Â  Â  Â  <div id="resumo-total"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  <button id="botao-voltar" onclick="window.location.replace('https://favucozinha.github.io/Inicio/')">Voltar</button>
Â  Â  Â  Â  
Â  Â  Â  Â  <div id="popup-resumo" class="popup">
Â  Â  Â  Â  Â  Â  <div class="popup-conteudo">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="fechar" onclick="fecharResumoPopup()">&times;</span>
Â  Â  Â  Â  Â  Â  Â  Â  <h2>SEU PEDIDO</h2>
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  <div id="popup-resumo-itens" class="resumo-itens"></div>
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  <div id="cupom-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>CUPOM DE DESCONTO</strong>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="cupom-input-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="cupom-input" placeholder="CÃ“DIGO">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="apply-cupom-btn" onclick="aplicarCupom()">APLICAR</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="cupom-message" class="cupom-message"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="popup-resumo-total" class="resumo-total"></div>
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  <div id="fazer-pedido-button-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="fecharResumoPopup()">CONTINUAR COMPRANDO</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  <div id="popup-pedido" class="popup">
Â  Â  Â  Â  Â  Â  <div class="popup-conteudo">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="fechar" onclick="fecharPopup()">&times;</span>
Â  Â  Â  Â  Â  Â  Â  Â  <h2>INFORMAÃ‡Ã•ES DO PEDIDO</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <form id="form-pedido"> 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="nome">NOME:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="nome" name="nome" placeholder="Seu Nome Completo" required>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="data">DATA DA ENTREGA:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="date" id="data" name="data" required>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="horario">HORÃRIO DA ENTREGA:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="time" id="horario" name="horario" required>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="pagamento">FORMA DE PAGAMENTO:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="pagamento" name="pagamento" required>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Dinheiro">Dinheiro</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="CartÃ£o">CartÃ£o</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Pix">Pix</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" onclick="confirmarPedido()">CONFIRMAR PEDIDO</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" onclick="fecharPopup()">CONTINUAR COMPRANDO</button> 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" onclick="editarPedido()">EDITAR PEDIDO</button>
Â  Â  Â  Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  <div id="fixed-summary">
Â  Â  Â  Â  Â  Â  <div class="summary-content">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="summary-text">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="summary-total">R$ 0,00</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Total sem a entrega</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="summary-item-count"> / 0 itens</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="summary-button" onclick="abrirResumoPopup()">Ver Pedido</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <footer>
Â  Â  Â  Â  Â  Â  <img src="roda2.png" alt="RodapÃ©">
Â  Â  Â  Â  </footer>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // ğŸš¨ğŸš¨ ATUALIZE ESTA URL COM A NOVA URL DO SEU APPS SCRIPT APÃ“S IMPLEMENTAR O CÃ“DIGO FORNECIDO ğŸš¨ğŸš¨
Â  Â  Â  Â  const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzPg0luc_LKOhkOLrefXv202qDAHMHFHO_19WF4dtXoc_20MwykJzNI5IRuYlq0Rr5s/exec"; 
Â  Â  Â  Â  // Seu nÃºmero de WhatsApp (mantido)
Â  Â  Â  Â  const WHATSAPP_NUMBER = "558195256641"; 

Â  Â  Â  Â  // VariÃ¡vel global para armazenar o cupom aplicado
Â  Â  Â  Â  let cupomAplicado = { codigo: null, desconto: 0, mensagem: '' };
Â  Â  Â  Â  
Â  Â  Â  Â  // NOVAS CONSTANTES DE CUPOM
Â  Â  Â  Â  const CUPOM_COOKIES10 = 'COOKIES10'; 
Â  Â  Â  Â  const CUPOM_FAVU10 = 'FAVU10OFF'; 
Â  Â  Â  Â  const CUPOM_FAVUCOOKIES = 'FAVUCOOKIES'; 
Â  Â  Â  Â  
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  // DADOS DOS PRODUTOS - MANTIDOS
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  const generateId = (nome, tamanho) => {
Â  Â  Â  Â  Â  Â  let base = nome.toLowerCase().replace(/[^a-z0-9]/g, '-');
Â  Â  Â  Â  Â  Â  if (tamanho) {
Â  Â  Â  Â  Â  Â  Â  Â  base += '-' + tamanho.toLowerCase().replace(/[^a-z0-9]/g, '');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return base.replace(/-+/g, '-').trim('-');
Â  Â  Â  Â  };
Â  Â  Â  Â  
Â  Â  Â  Â  const addGroupKeys = (itens) => {
Â  Â  Â  Â  Â  Â  return itens.map(item => ({
Â  Â  Â  Â  Â  Â  Â  Â  ...item,
Â  Â  Â  Â  Â  Â  Â  Â  groupKey: item.tamanho ? item.nome : item.id 
Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  };

Â  Â  Â  Â  const itensBoloTradicional = addGroupKeys([
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Bem-Casado", tamanho: "P (1.5 KG)", preco: 100.00, min: 1, descricaoResumo: "Bolo de Bem-Casado - P (1.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Bem-Casado", tamanho: "M (2.5 KG)", preco: 160.00, min: 1, descricaoResumo: "Bolo de Bem-Casado - M (2.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Bem-Casado", tamanho: "G (3.5 KG)", preco: 220.00, min: 1, descricaoResumo: "Bolo de Bem-Casado - G (3.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Doce de Leite", tamanho: "P (1.5 KG)", preco: 90.00, min: 1, descricaoResumo: "Bolo de Doce de Leite e Crocante de Amendoin - P (1.5 KG)", descricao: "Com Crocante de Amendoin"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Doce de Leite", tamanho: "M (2.5 KG)", preco: 150.00, min: 1, descricaoResumo: "Bolo de Doce de Leite e Crocante de Amendoin - M (2.5 KG)", descricao: "Com Crocante de Amendoin"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Doce de Leite", tamanho: "G (3.5 KG)", preco: 210.00, min: 1, descricaoResumo: "Bolo de Doce de Leite e Crocante de Amendoin - G (3.5 KG)", descricao: "Com Crocante de Amendoin"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Chocolate", tamanho: "P (1.5 KG)", preco: 90.00, min: 1, descricaoResumo: "Bolo de Chocolate 50% Cacau - P (1.5 KG)", descricao: "Com chocolate 50% cacau"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Chocolate", tamanho: "M (2.5 KG)", preco: 150.00, min: 1, descricaoResumo: "Bolo de Chocolate 50% Cacau - M (2.5 KG)", descricao: "Com chocolate 50% cacau"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Chocolate", tamanho: "G (3.5 KG)", preco: 210.00, min: 1, descricaoResumo: "Bolo de Chocolate 50% Cacau - G (3.5 KG)", descricao: "Com chocolate 50% cacau"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de LimÃ£o", tamanho: "P (1.5 KG)", preco: 90.00, min: 1, descricaoResumo: "Bolo de LimÃ£o e Chocolate Branco - P (1.5 KG)", descricao: "Com Cholocate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de LimÃ£o", tamanho: "M (2.5 KG)", preco: 150.00, min: 1, descricaoResumo: "Bolo de LimÃ£o e Chocolate Branco - M (2.5 KG)", descricao: "Com Cholocate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de LimÃ£o", tamanho: "G (3.5 KG)", preco: 210.00, min: 1, descricaoResumo: "Bolo de LimÃ£o e Chocolate Branco - G (3.5 KG)", descricao: "Com Cholocate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de MaracujÃ¡", tamanho: "P (1.5 KG)", preco: 90.00, min: 1, descricaoResumo: "Bolo de MaracujÃ¡ e Chocolate Branco - P (1.5 KG)", descricao: "Com Cholocate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de MaracujÃ¡", tamanho: "M (2.5 KG)", preco: 150.00, min: 1, descricaoResumo: "Bolo de MaracujÃ¡ e Chocolate Branco - M (2.5 KG)", descricao: "Com Cholocate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de MaracujÃ¡", tamanho: "G (3.5 KG)", preco: 210.00, min: 1, descricaoResumo: "Bolo de MaracujÃ¡ e Chocolate Branco - G (3.5 KG)", descricao: "Com Cholocate Branco"},
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome, item.tamanho)}));
Â  Â  Â  Â  
Â  Â  Â  Â  const itensBoloEspecial = addGroupKeys([
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Ameixa", tamanho: "P (1.5 KG)", preco: 110.00, min: 1, descricaoResumo: "Bolo de Ameixa e Chocolate Branco - P (1.5 KG)", descricao: "Com Chocolate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Ameixa", tamanho: "M (2.5 KG)", preco: 180.00, min: 1, descricaoResumo: "Bolo de Ameixa e Chocolate Branco - M (2.5 KG)", descricao: "Com Chocolate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Ameixa", tamanho: "G (3.5 KG)", preco: 250.00, min: 1, descricaoResumo: "Bolo de Ameixa e Chocolate Branco - G (3.5 KG)", descricao: "Com Chocolate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de CafÃ© e Doce de Leite", tamanho: "P (1.5 KG)", preco: 110.00, min: 1, descricaoResumo: "Bolo de CafÃ© Com Doce de Leite e Chocolate Amargo - P (1.5 KG)", descricao:"Com Chocolate Amargo"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de CafÃ© e Doce de Leite", tamanho: "M (2.5 KG)", preco: 180.00, min: 1, descricaoResumo: "Bolo de CafÃ© Com Doce de Leite e Chocolate Amargo - M (2.5 KG)", descricao:"Com Chocolate Amargo"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de CafÃ© e Doce de Leite", tamanho: "G (3.5 KG)", preco: 250.00, min: 1, descricaoResumo: "Bolo de CafÃ© Com Doce de Leite e Chocolate Amargo - G (3.5 KG)", descricao:"Com Chocolate Amargo"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Chocolate 50%", tamanho: "P (1.5 KG)", preco: 110.00, min: 1, descricaoResumo: "Bolo de Chocolate 50% com Morangos - P (1.5 KG)", descricao:"Com Morangos"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Chocolate 50%", tamanho: "M (2.5 KG)", preco: 175.00, min: 1, descricaoResumo: "Bolo de Chocolate 50% com Morangos - M (2.5 KG)", descricao:"Com Morangos"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Chocolate 50%", tamanho: "G (3.5 KG)", preco: 245.00, min: 1, descricaoResumo: "Bolo de Chocolate 50% com Morangos - G (3.5 KG)", descricao:"Com Morangos"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Delicia de Abacaxi", tamanho: "P (1.5 KG)", preco: 105.00, min: 1, descricaoResumo: "Bolo de Delicia de Abacaxi - P (1.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Delicia de Abacaxi", tamanho: "M (2.5 KG)", preco: 175.00, min: 1, descricaoResumo: "Bolo de Delicia de Abacaxi - M (2.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Delicia de Abacaxi", tamanho: "G (3.5 KG)", preco: 245.00, min: 1, descricaoResumo: "Bolo de Delicia de Abacaxi - G (3.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Morango", tamanho: "P (1.5 KG)", preco: 110.00, min: 1, descricaoResumo: "Bolo de Morango com Brigadeiro Branco e Chantinhinho - P (1.5 KG)", descricao: "Com Recheio de Brigadeiro Branco e Cobertura de Chantininho"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Morango", tamanho: "M (2.5 KG)", preco: 175.00, min: 1, descricaoResumo: "Bolo de Morango com Brigadeiro Branco e Chantinhinho - M (2.5 KG)", descricao: "Com Recheio de Brigadeiro Branco e Cobertura de Chantininho"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Morango", tamanho: "G (3.5 KG)", preco: 245.00, min: 1, descricaoResumo: "Bolo de Morango com Brigadeiro Branco e Chantinhinho - G (3.5 KG)", descricao: "Com Recheio de Brigadeiro Branco e Cobertura de Chantininho"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Ninho trufado", tamanho: "P (1.5 KG)", preco: 110.00, min: 1, descricaoResumo: "Bolo de Ninho trufado - P (1.5 KG)", descricao: "Com chocolate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Ninho trufado", tamanho: "M (2.5 KG)", preco: 175.00, min: 1, descricaoResumo: "Bolo de Ninho trufado - M (2.5 KG)", descricao: "Com chocolate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo de Ninho trufado", tamanho: "G (3.5 KG)", preco: 245.00, min: 1, descricaoResumo: "Bolo de Ninho trufado - G (3.5 KG)", descricao: "Com chocolate Branco"},
Â  Â  Â  Â  Â  Â  { nome: "Bolo PrestÃ­gio", tamanho: "P (1.5 KG)", preco: 105.00, min: 1, descricaoResumo: "Bolo PrestÃ­gio - P (1.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo PrestÃ­gio", tamanho: "M (2.5 KG)", preco: 175.00, min: 1, descricaoResumo: "Bolo PrestÃ­gio - M (2.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo PrestÃ­gio", tamanho: "G (3.5 KG)", preco: 245.00, min: 1, descricaoResumo: "Bolo PrestÃ­gio - G (3.5 KG)", descricao: ""}, Â  Â  Â 
Â  Â  Â  Â  Â  Â  { nome: "Bolo Red velvet", tamanho: "P (1.5 KG)", preco: 105.00, min: 1, descricaoResumo: "Bolo Red velvet - P (1.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo Red velvet", tamanho: "M (2.5 KG)", preco: 175.00, min: 1, descricaoResumo: "Bolo Red velvet - M (2.5 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Bolo Red velvet", tamanho: "G (3.5 KG)", preco: 245.00, min: 1, descricaoResumo: "Bolo Red Velvet - G (3.5 KG)", descricao: ""},
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome, item.tamanho)}));

Â  Â  Â  Â  const itensDoces = addGroupKeys([
Â  Â  Â  Â  Â  Â  { nome: "Beijinho", min: 20, preco: 1.20, descricaoResumo: "Beijinho", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Bem-casado", min: 20, preco: 1.20, descricaoResumo: "Bem-casado", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Brigadeiro", min: 20, preco: 1.20, descricaoResumo: "Brigadeiro", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Mini Tortilete", min: 20, preco: 1.30, descricaoResumo: "Mini Tortilete", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Moranguinho", min: 20, preco: 1.20, descricaoResumo: "Moranguinho", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "OuriÃ§o", min: 20, preco: 1.30, descricaoResumo: "OuriÃ§o", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Queijadinha", min: 20, preco: 1.30, descricaoResumo: "Queijadinha", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Surpresa de uva", min: 20, preco: 1.30, descricaoResumo: "Surpresa de uva", descricao: "" },
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome)}));

Â  Â  Â  Â  const itensCookies = addGroupKeys([
Â  Â  Â  Â  Â  Â  // MINIMO DE CADA COOKIE AGORA Ã‰ 1. A VALIDAÃ‡ÃƒO DE 3 UNIDADES VAI PARA O GRUPO.
Â  Â  Â  Â  Â  Â  { nome: "Cookie Tradicional", min: 1, preco: 12.00, descricaoResumo: "Cookie Tradicional", descricao: "Massa de baunilha com pedaÃ§os de chocolate meio amargo" },
Â  Â  Â  Â  Â  Â  { nome: "Cookie Red Velvet", min: 1, preco: 12.00, descricaoResumo: "Cookie Red Velvet", descricao: "Massa de baunilha com toque de cream cheese, cacau vermelho e pedaÃ§os de chocolate branco" },
Â  Â  Â  Â  Â  Â  { nome: "Cookie Black", min: 1, preco: 12.00, descricaoResumo: "Cookie Black", descricao: "Massa feita com cacau 100% e pedaÃ§os de chocolate meio amargo" },
Â  Â  Â  Â  Â  Â  { nome: "Cookie Romeu e Julieta", min: 1, preco: 12.00, descricaoResumo: "Cookie Romeu e Julieta", descricao: "Massa de baunilha com pedacinhos de queijo, recheado com cream cheese e goiabada" },
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome)}));

Â  Â  Â  Â  const itensSalgadoFrito = addGroupKeys([
Â  Â  Â  Â  Â  Â  { nome: "Bolinho de Bacalhau", min: 20, preco: 1.30, descricaoResumo: "Bolinho de Bacalhau", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Bolinho de Calabresa", min: 20, preco: 1.00, descricaoResumo: "Bolinho de Calabresa", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Bolinho de Charque", min: 20, preco: 1.20, descricaoResumo: "Bolinho de Charque", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Coxinha de Frango", min: 20, preco: 1.00, descricaoResumo: "Coxinha de Frango", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Croquete Misto", min: 20, preco: 1.00, descricaoResumo: "Croquere Misto", descricao: "De Presunto Com Queijo" },
Â  Â  Â  Â  Â  Â  { nome: "CamarÃ£o Empanado", min: 20, preco: 1.50, descricaoResumo: "CamarÃ£o Empanado", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Mini Quibe", min: 20, preco: 1.10, descricaoResumo: "Mini Quibe de Carne C/ Queijo", descricao: "De Carne Com Queijo" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Festa", min: 20, preco: 1.30, descricaoResumo: "Pastel de Festa", descricao: "" },
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome)}));

Â  Â  Â  Â  const itensSalgadoForno = addGroupKeys([
Â  Â  Â  Â  Â  Â  { nome: "Canudinho de Frango", min: 20, preco: 1.50, descricaoResumo: "Canudinho de Frango", descricao: "Massa Caseira Assada no Forno" },
Â  Â  Â  Â  Â  Â  { nome: "Empadinha de Bacalhau", min: 20, preco: 1.30, descricaoResumo: "Empadinha de Bacalhau", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Empadinha de CamarÃ£o", min: 20, preco: 1.30, descricaoResumo: "Empadinha de CamarÃ£o", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Empadinha de Carne", min: 20, preco: 1.00, descricaoResumo: "Empadinha de Carne", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Empadinha de Frango", min: 20, preco: 1.00, descricaoResumo: "Empadinha de Frango", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Mini Folhado de Carne", min: 20, preco: 2.20, descricaoResumo: "Mini Folhado de Carne", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Mini Folhado de Frango", min: 20, preco: 2.20, descricaoResumo: "Mini Folhado de Frango", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Mini Folhado de Queijo", min: 20, preco: 2.20, descricaoResumo: "Mini Folhado de Queijo", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Mini Folhado de Pizza", min: 20, preco: 2.20, descricaoResumo: "Mini Folhado de Pizza", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Mini Enroladinho", min: 20, preco: 1.00, descricaoResumo: "Mini Enroladinho de salsicha", descricao: "Com Salsicha" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno de Bacalhau", min: 20, preco: 1.30, descricaoResumo: "Pastel de Forno de Bacalhau", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno de CamarÃ£o", min: 20, preco: 1.40, descricaoResumo: "Pastel de Forno de CamarÃ£o", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno de Carne", min: 20, preco: 1.00, descricaoResumo: "Pastel de Forno de Carne", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno de Frango", min: 20, preco: 1.00, descricaoResumo: "Pastel de Forno de Frango", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno de Queijo", min: 20, preco: 1.00, descricaoResumo: "Pastel de Forno de Queijo", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno de Pizza", min: 20, preco: 1.00, descricaoResumo: "Pastel de Forno de Pizza", descricao: "" },
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome)}));
Â  Â  Â  Â  
Â  Â  Â  Â  const itensSalgadoVegetariano = addGroupKeys([
Â  Â  Â  Â  Â  Â  { nome: "Canudinho de Soja", min: 20, preco: 1.50, descricaoResumo: "Canudinho de Soja", descricao: "Massa Caseira Assada no Forno" },
Â  Â  Â  Â  Â  Â  { nome: "Coxinha de Soja", min: 20, preco: 1.00, descricaoResumo: "Coxinha de SOJA", descricao: "" },
Â  Â  Â  Â  Â  Â  { nome: "Coxinha de Caju *", min: 20, preco: 1.20, descricaoResumo: "Coxinha de CAJU", descricao: "* CONSULTAR DISPONIBILIDADE *" },
Â  Â  Â  Â  Â  Â  { nome: "Empadinha de Creme de Aborbinha", min: 20, preco: 1.00, descricaoResumo: "Empadinha de Aborbinha Com Queijo", descricao: "Com Queijo" },
Â  Â  Â  Â  Â  Â  { nome: "Empadinha de Falso CamarÃ£o", min: 20, preco: 1.00, descricaoResumo: "Empadinha de Falso CamarÃ£o", descricao: "A Base de Milho e Leite de Coco" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Festa Vegetariano", min: 20, preco: 1.30, descricaoResumo: "Pastel de Festa de SOJA", descricao: "De Soja" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno Creme de Abobrinha", min: 20, preco: 1.00, descricaoResumo: "Pastel de Forno Abobrinha C/ Queijo", descricao: "Com Queijo" },
Â  Â  Â  Â  Â  Â  { nome: "Pastel de Forno Caju *", min: 20, preco: 1.30, descricaoResumo: "Pastel de Forno Caju", descricao: "* CONSULTAR DISPONIBILIDADE *" },
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome)}));

Â  Â  Â  Â  const itensPratoSalgado = addGroupKeys([
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Bacalhau", tamanho: "P (1 KG)", preco: 120.00, min: 1, descricaoResumo: "EmpadÃ£o de Bacalhau - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Bacalhau", tamanho: "M (2 KG)", preco: 220.00, min: 1, descricaoResumo: "EmpadÃ£o de Bacalhau - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Bacalhau", tamanho: "G (3 KG)", preco: 340.00, min: 1, descricaoResumo: "EmpadÃ£o de Bacalhau - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Carne", tamanho: "P (1 KG)", preco: 70.00, min: 1, descricaoResumo: "EmpadÃ£o de Carne - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Carne", tamanho: "M (2 KG)", preco: 140.00, min: 1, descricaoResumo: "EmpadÃ£o de Carne - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Carne", tamanho: "G (3 KG)", preco: 210.00, min: 1, descricaoResumo: "EmpadÃ£o de Carne - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de CamarÃ£o", tamanho: "P (1 KG)", preco: 120.00, min: 1, descricaoResumo: "EmpadÃ£o de CamarÃ£o - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de CamarÃ£o", tamanho: "M (2 KG)", preco: 220.00, min: 1, descricaoResumo: "EmpadÃ£o de CamarÃ£o - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de CamarÃ£o", tamanho: "G (3 KG)", preco: 340.00, min: 1, descricaoResumo: "EmpadÃ£o de CamarÃ£o - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Frango", tamanho: "P (1 KG)", preco: 70.00, min: 1, descricaoResumo: "EmpadÃ£o de Frango - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Frango", tamanho: "M (2 KG)", preco: 140.00, min: 1, descricaoResumo: "EmpadÃ£o de Frango - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "EmpadÃ£o de Frango", tamanho: "G (3 KG)", preco: 210.00, min: 1, descricaoResumo: "EmpadÃ£o de Frango - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "FricassÃª de Frango", tamanho: "P (1 KG)", preco: 80.00, min: 1, descricaoResumo: "FricassÃª de Frango - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "FricassÃª de Frango", tamanho: "M (2 KG)", preco: 160.00, min: 1, descricaoResumo: "FricassÃª de Frango - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "FricassÃª de Frango", tamanho: "G (3 KG)", preco: 240.00, min: 1, descricaoResumo: "FricassÃª de Frango - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Quiche de CamarÃ£o", tamanho: "P (1 KG)", preco: 120.00, min: 1, descricaoResumo: "Quiche de CamarÃ£o - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Quiche de CamarÃ£o", tamanho: "M (2 KG)", preco: 240.00, min: 1, descricaoResumo: "Quiche de CamarÃ£o - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Quiche de CamarÃ£o", tamanho: "G (3 KG)", preco: 360.00, min: 1, descricaoResumo: "Quiche de CamarÃ£o - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Quiche de Frango", tamanho: "P (1 KG)", preco: 90.00, min: 1, descricaoResumo: "Quiche de Frango - P (1 KG)", descricao: "Com Alho PorÃ³"},
Â  Â  Â  Â  Â  Â  { nome: "Quiche de Frango", tamanho: "M (2 KG)", preco: 180.00, min: 1, descricaoResumo: "Quiche de Frango - M (2 KG)", descricao: "Com Alho PorÃ³"},
Â  Â  Â  Â  Â  Â  { nome: "Quiche de Frango", tamanho: "G (3 KG)", preco: 260.00, min: 1, descricaoResumo: "Quiche de Frango - G (3 KG)", descricao: "Com Alho PorÃ³"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Bacalhau", tamanho: "P (1 KG)", preco: 120.00, min: 1, descricaoResumo: "Rocambole de Bacalhau - P (1 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Bacalhau", tamanho: "M (2 KG)", preco: 240.00, min: 1, descricaoResumo: "Rocambole de Bacalhau - M (2 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Bacalhau", tamanho: "G (3 KG)", preco: 360.00, min: 1, descricaoResumo: "Rocambole de Bacalhau - G (3 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de CamarÃ£o", tamanho: "P (1 KG)", preco: 120.00, min: 1, descricaoResumo: "Rocambole de CamarÃ£o - P (1 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de CamarÃ£o", tamanho: "M (2 KG)", preco: 240.00, min: 1, descricaoResumo: "Rocambole de CamarÃ£o - M (2 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de CamarÃ£o", tamanho: "G (3 KG)", preco: 365.00, min: 1, descricaoResumo: "Rocambole de CamarÃ£o - G (3 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Carne", tamanho: "P (1 KG)", preco: 70.00, min: 1, descricaoResumo: "Rocambole de Carne - P (1 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Carne", tamanho: "M (2 KG)", preco: 140.00, min: 1, descricaoResumo: "Rocambole de Carne - M (2 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Carne", tamanho: "G (3 KG)", preco: 210.00, min: 1, descricaoResumo: "Rocambole de Carne - G (3 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Frango", tamanho: "P (1 KG)", preco: 70.00, min: 1, descricaoResumo: "Rocambole de Frango - P (1.5 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Frango", tamanho: "M (2 KG)", preco: 140.00, min: 1, descricaoResumo: "Rocambole de Frango - M (2 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Rocambole de Frango", tamanho: "G (3 KG)", preco: 210.00, min: 1, descricaoResumo: "Rocambole de Frango - G (3 KG)", descricao: "Massa de Batata"},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Bacalhau", tamanho: "P (1 KG)", preco: 120.00, min: 1, descricaoResumo: "Torta Salgada de Bacalhau - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Bacalhau", tamanho: "M (2 KG)", preco: 240.00, min: 1, descricaoResumo: "Torta Salgada de Bacalhau - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Bacalhau", tamanho: "G (3 KG)", preco: 360.00, min: 1, descricaoResumo: "Torta Salgada de Bacalhau - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Carne", tamanho: "P (1 KG)", preco: 70.00, min: 1, descricaoResumo: "Torta Salgada de Carne - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Carne", tamanho: "M (2 KG)", preco: 140.00, min: 1, descricaoResumo: "Torta Salgada de Carne - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Carne", tamanho: "G (3 KG)", preco: 210.00, min: 1, descricaoResumo: "Torta Salgada de Carne - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de CamarÃ£o", tamanho: "P (1 KG)", preco: 120.00, min: 1, descricaoResumo: "Torta Salgada de CamarÃ£o - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de CamarÃ£o", tamanho: "M (2 KG)", preco: 240.00, min: 1, descricaoResumo: "Torta Salgada de CamarÃ£o - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de CamarÃ£o", tamanho: "G (3 KG)", preco: 360.00, min: 1, descricaoResumo: "Torta Salgada de CamarÃ£o - G (3 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Frango", tamanho: "P (1 KG)", preco: 70.00, min: 1, descricaoResumo: "Torta Salgada de Frango - P (1 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Frango", tamanho: "M (2 KG)", preco: 140.00, min: 1, descricaoResumo: "Torta Salgada de Frango - M (2 KG)", descricao: ""},
Â  Â  Â  Â  Â  Â  { nome: "Torta Salgada de Frango", tamanho: "G (3 KG)", preco: 210.00, min: 1, descricaoResumo: "Torta Salgada de Frango - G (3 KG)", descricao: ""},
Â  Â  Â  Â  ]).map(item => ({...item, id: generateId(item.nome, item.tamanho)}));

Â  Â  Â  Â  
Â  Â  Â  Â  const gruposItens = {
Â  Â  Â  Â  Â  Â  "tabela-bolo-tradicional": { itens: itensBoloTradicional, nomeGrupo: "Bolos Tradicionais", img: "img-bolo-tradicional", minTotal: 0 },
Â  Â  Â  Â  Â  Â  "tabela-bolo-especial": { itens: itensBoloEspecial, nomeGrupo: "Bolos Especiais", img: "img-bolo-especial", minTotal: 0 },
Â  Â  Â  Â  Â  Â  "tabela-doces": { itens: itensDoces, nomeGrupo: "Doces", img: "img-doces", minTotal: 0 },
Â  Â  Â  Â  Â  Â  // minTotal 3 para a categoria Cookies
Â  Â  Â  Â  Â  Â  "tabela-cookies": { itens: itensCookies, nomeGrupo: "Cookies", img: "img-cookies", minTotal: 3, minIndividual: 1 }, 
Â  Â  Â  Â  Â  Â  "tabela-salfri": { itens: itensSalgadoFrito, nomeGrupo: "Salgados Fritos", img: "img-salfri", minTotal: 0 },
Â  Â  Â  Â  Â  Â  "tabela-salgado-forno": { itens: itensSalgadoForno, nomeGrupo: "Salgados Assados", img: "img-salgado-forno", minTotal: 0 },
Â  Â  Â  Â  Â  Â  "tabela-salgado-vegetariano": { itens: itensSalgadoVegetariano, nomeGrupo: "Salgados Vegetarianos", img: "img-salgado-vegetariano", minTotal: 0 },
Â  Â  Â  Â  Â  Â  "tabela-prato-salgado": { itens: itensPratoSalgado, nomeGrupo: "Pratos Salgados", img: "img-prato-salgado", minTotal: 0 },
Â  Â  Â  Â  };
Â  Â  Â  Â  
Â  Â  Â  Â  let todosOsItens = [];
Â  Â  Â  Â  for (const idTabela in gruposItens) {
Â  Â  Â  Â  Â  Â  gruposItens[idTabela].itens.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  todosOsItens.push({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  nome: item.descricaoResumo,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: item.id, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grupoId: "grupo-" + idTabela.replace("tabela-", "")
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  // FUNÃ‡ÃƒO DE CRIAÃ‡ÃƒO DE TABELAS - MANTIDA
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  function criarTabelaGrupo(grupo, idTabela, nomeGrupo) {
Â  Â  Â  Â  Â  Â  const tbody = document.getElementById(idTabela).querySelector('tbody');
Â  Â  Â  Â  Â  Â  if (!tbody) return;

Â  Â  Â  Â  Â  Â  let grupoAtual = null;
Â  Â  Â  Â  Â  Â  let countGrupo = 0;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const isGroupedTable = idTabela.includes('bolo') || idTabela.includes('prato');
Â  Â  Â  Â  Â  Â  const isCookieTable = idTabela === 'tabela-cookies';
Â  Â  Â  Â  Â  Â  const minDoGrupo = gruposItens[idTabela]?.minTotal || 0;


Â  Â  Â  Â  Â  Â  for (let i = 0; i < grupo.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const item = grupo[i];
Â  Â  Â  Â  Â  Â  Â  Â  const tr = document.createElement("tr");
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Em Cookies, a coluna 2 Ã© o preÃ§o. Nas outras, Ã© o tamanho/mÃ­nimo.
Â  Â  Â  Â  Â  Â  Â  Â  const coluna2 = isCookieTable ? item.preco.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : (item.tamanho || item.min); 
Â  Â  Â  Â  Â  Â  Â  Â  const precoFormatado = item.preco.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
Â  Â  Â  Â  Â  Â  Â  Â  const itemId = item.id;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  tr.id = itemId; 
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  let isFirstInGroup = false;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if (isGroupedTable) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.groupKey !== grupoAtual) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grupoAtual = item.groupKey;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isFirstInGroup = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countGrupo = 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let j = i + 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  while (j < grupo.length && grupo[j].groupKey === grupoAtual) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  countGrupo++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  j++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.groupKey === grupoAtual && i < grupo.length - 1 && grupo[i+1].groupKey === grupoAtual) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â tr.classList.add('item-group-active');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  Â  Â  Â  Â  // VALOR PADRÃƒO DO INPUT Ã‰ "0"
Â  Â  Â  Â  Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  Â  Â  Â  Â  const inputHtml = `<input type="number" value="0" data-min="${item.min || 1}" data-preco="${item.preco}" data-resumo="${item.descricaoResumo}" data-grupo="${nomeGrupo}" data-item-id="${itemId}" class="quantidade-input">`;

Â  Â  Â  Â  Â  Â  Â  Â  let erroHtml = '';
Â  Â  Â  Â  Â  Â  Â  Â  // Verifica se Ã© uma das categorias que deve usar o erro individual
Â  Â  Â  Â  Â  Â  Â  Â  const gruposComMinimoIndividual = ["Doces", "Salgados Fritos", "Salgados Assados", "Salgados Vegetarianos"];
Â  Â  Â  Â  Â  Â  Â  Â  const isIndividualMinCheck = gruposComMinimoIndividual.includes(nomeGrupo) && (item.min && item.min > 1);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if (isIndividualMinCheck) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  erroHtml = `<div class="erro-item-unico">MÃ­n ${item.min} Unid.</div>`; // Display serÃ¡ controlado pelo JS
Â  Â  Â  Â  Â  Â  Â  Â  }


Â  Â  Â  Â  Â  Â  Â  Â  // ConteÃºdo para tabelas sem agrupamento (Doces, Salgados, Cookies)
Â  Â  Â  Â  Â  Â  Â  Â  let celulasComuns;

Â  Â  Â  Â  Â  Â  Â  Â  if (isCookieTable) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // CÃ“DIGO PARA COOKIES (3 COLUNAS VISÃVEIS)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  celulasComuns = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="item-nome">${item.nome}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${item.descricao ? `<div class="descricao">${item.descricao}</div>` : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>R$ ${precoFormatado}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="quantidade-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${inputHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${erroHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // CÃ“DIGO para as outras tabelas (4 COLUNAS VISÃVEIS)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  celulasComuns = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="item-nome">${item.nome}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${item.descricao ? `<div class="descricao">${item.descricao}</div>` : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${coluna2}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>R$ ${precoFormatado}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="quantidade-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${inputHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${erroHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // ConteÃºdo para tabelas AGRUPADAS (Bolos, Pratos Salgados)
Â  Â  Â  Â  Â  Â  Â  Â  const celulasAgrupadas = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${coluna2}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>R$ ${precoFormatado}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="quantidade-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${inputHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${erroHtml}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  if (isGroupedTable && isFirstInGroup) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tr.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td rowspan="${countGrupo}" class="item-group-cell">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="item-nome">${item.nome}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${item.descricao ? `<div class="descricao">${item.descricao}</div>` : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${celulasAgrupadas}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  } else if (isGroupedTable && !isFirstInGroup) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tr.innerHTML = celulasAgrupadas;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tr.innerHTML = celulasComuns;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  tbody.appendChild(tr);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  // LÃ“GICA DE FILTRO E ABA - MANTIDA
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  function ativarAba(linkElement) {
Â  Â  Â  Â  Â  Â  const targetGroupId = linkElement.getAttribute('data-target');
Â  Â  Â  Â  Â  Â  const targetGroup = document.getElementById(targetGroupId);
Â  Â  Â  Â  Â  Â  const categoriasBar = document.getElementById('categorias-horizontal');

Â  Â  Â  Â  Â  Â  if (!targetGroup) return;

Â  Â  Â  Â  Â  Â  categoriasBar.querySelectorAll('a').forEach(link => {
Â  Â  Â  Â  Â  Â  Â  Â  link.classList.remove('active-link');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.categoria-group').forEach(group => {
Â  Â  Â  Â  Â  Â  Â  Â  group.classList.remove('active-group');
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  linkElement.classList.add('active-link');
Â  Â  Â  Â  Â  Â  targetGroup.classList.add('active-group');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  linkElement.scrollIntoView({ behavior: 'smooth', inline: 'center' }); 
Â  Â  Â  Â  }

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Rola a pÃ¡gina para um elemento especÃ­fico, considerando a barra sticky.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function scrollToElement(targetElement) {
Â  Â  Â  Â  Â  Â  if (!targetElement) return;

Â  Â  Â  Â  Â  Â  // Remove o destaque de qualquer linha antes de rolar
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.highlight-edit').forEach(el => {
Â  Â  Â  Â  Â  Â  Â  Â  el.classList.remove('highlight-edit');
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  const mainHeader = document.querySelector('header');
Â  Â  Â  Â  Â  Â  const stickyNav = document.getElementById('sticky-nav-container');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Calcula a altura fixa total (header + sticky nav)
Â  Â  Â  Â  Â  Â  const fixedHeight = (mainHeader ? mainHeader.offsetHeight : 0) + (stickyNav ? stickyNav.offsetHeight : 0) + 10;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;
Â  Â  Â  Â  Â  Â  const offsetPosition = elementPosition - fixedHeight;

Â  Â  Â  Â  Â  Â  window.scrollTo({
Â  Â  Â  Â  Â  Â  Â  Â  top: Math.max(0, offsetPosition), // Garante que nÃ£o role para cima demais
Â  Â  Â  Â  Â  Â  Â  Â  behavior: 'smooth'
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  // LÃ“GICA DE CUPOM - MANTIDA
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  
Â  Â  Â  Â  function limparCupom() {
Â  Â  Â  Â  Â  Â  cupomAplicado = { codigo: null, desconto: 0, mensagem: '' };
Â  Â  Â  Â  Â  Â  const cupomInput = document.getElementById('cupom-input');
Â  Â  Â  Â  Â  Â  if (cupomInput) cupomInput.value = '';
Â  Â  Â  Â  }

Â  Â  Â  Â  function aplicarCupom() {
Â  Â  Â  Â  Â  Â  const cupomInput = document.getElementById('cupom-input');
Â  Â  Â  Â  Â  Â  const cupomCode = cupomInput.value.toUpperCase().trim();
Â  Â  Â  Â  Â  Â  const cupomMessage = document.getElementById('cupom-message');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  cupomAplicado = { codigo: null, desconto: 0, mensagem: '' };
Â  Â  Â  Â  Â  Â  cupomMessage.className = 'cupom-message'; // Reset classes
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 1. Coleta e valida a quantidade e os subtotais
Â  Â  Â  Â  Â  Â  let totalBrutoPedido = 0; 
Â  Â  Â  Â  Â  Â  let totalCookies = 0;
Â  Â  Â  Â  Â  Â  let subtotalCookies = 0; 
Â  Â  Â  Â  Â  Â  const cookiesGrupos = ["Cookies"]; 
Â  Â  Â  Â  Â  Â  let hasCookieItem = false;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Lista de grupos que usam a validaÃ§Ã£o de mÃ­nimo individual
Â  Â  Â  Â  Â  Â  const gruposComMinimoIndividual = ["Doces", "Salgados Fritos", "Salgados Assados", "Salgados Vegetarianos"];
Â  Â  Â  Â  Â  Â  let temErroDeMinimo = false; 

Â  Â  Â  Â  Â  Â  document.querySelectorAll(".quantidade-input").forEach(input => {
Â  Â  Â  Â  Â  Â  Â  Â  const grupo = input.getAttribute("data-grupo");
Â  Â  Â  Â  Â  Â  Â  Â  // Usamos parseInt(input.value) || 0 para garantir que "0" seja tratado como 0
Â  Â  Â  Â  Â  Â  Â  Â  const quantidade = parseInt(input.value) || 0; 
Â  Â  Â  Â  Â  Â  Â  Â  const preco = parseFloat(input.getAttribute("data-preco")) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const min = parseInt(input.getAttribute("data-min")) || 1;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  const isIndividualMinCheck = gruposComMinimoIndividual.includes(grupo) && min > 1;
Â  Â  Â  Â  Â  Â  Â  Â  const isItemValido = quantidade >= min;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Verifica erros de mÃ­nimo para nÃ£o incluir o item no total bruto (apenas se a quantidade for > 0)
Â  Â  Â  Â  Â  Â  Â  Â  if (quantidade > 0 && isIndividualMinCheck && !isItemValido) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  temErroDeMinimo = true;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (quantidade > 0 && (!isIndividualMinCheck || isItemValido)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const totalItem = quantidade * preco;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalBrutoPedido += totalItem; // Total de todo o pedido (vÃ¡lido para o FAVU10)
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (cookiesGrupos.includes(grupo)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalCookies += quantidade;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  subtotalCookies += quantidade * preco;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (quantidade > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hasCookieItem = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Revalida se o mÃ­nimo do grupo Cookies (3) foi atingido (lÃ³gica para evitar descontos em pedidos invÃ¡lidos)
Â  Â  Â  Â  Â  Â  const minTotalCookies = gruposItens["tabela-cookies"]?.minTotal || 0;
Â  Â  Â  Â  Â  Â  const cookiesValidos = totalCookies === 0 || totalCookies >= minTotalCookies;
Â  Â  Â  Â  Â  Â  if (!cookiesValidos && totalCookies > 0) temErroDeMinimo = true;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (temErroDeMinimo) {
Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = 'Ajuste as quantidades mÃ­nimas do seu pedido antes de aplicar um cupom.';
Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 2. ValidaÃ§Ã£o e AplicaÃ§Ã£o dos Cupons
Â  Â  Â  Â  Â  Â  const taxaDesconto = 0.10; // 10%
Â  Â  Â  Â  Â  Â  const minCookiesCupom = 4; // MÃ­nimo de cookies para os cupons de cookies (COOKIES10 e FAVUCOOKIES)

Â  Â  Â  Â  Â  Â  // 2.1. CUPOM FAVU10 (10% no Total do Pedido - Qualquer dia)
Â  Â  Â  Â  Â  Â  if (cupomCode === CUPOM_FAVU10) {
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if (totalBrutoPedido === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = 'Adicione itens ao carrinho antes de aplicar o cupom.';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  const descontoTotal = totalBrutoPedido * taxaDesconto;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  codigo: cupomCode,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  desconto: descontoTotal, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mensagem: `CUPOM ${cupomCode} APLICADO! (10% OFF no total)` 
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-success');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 2.2. CUPOM COOKIES10 (10% em Cookies - Qualquer dia - REQUER MÃNIMO DE 4 UNIDADES)
Â  Â  Â  Â  Â  Â  } else if (cupomCode === CUPOM_COOKIES10) {
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if (!hasCookieItem) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = 'Cupom vÃ¡lido apenas para Cookies.';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // CHECK MÃNIMO DE 4 UNIDADES DE COOKIES
Â  Â  Â  Â  Â  Â  Â  Â  if (totalCookies < minCookiesCupom) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = `CUPOM VÃLIDO APENAS PARA NO MÃNIMO ${minCookiesCupom} COOKIES.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  const descontoTotal = subtotalCookies * taxaDesconto; 
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  codigo: cupomCode,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  desconto: descontoTotal, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mensagem: `CUPOM ${cupomCode} APLICADO! (10% OFF em Cookies)` 
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-success');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 2.3. ValidaÃ§Ã£o do Cupom FAVUCOOKIES (Regra antiga: Segunda a Quinta, MÃ­nimo 4 Cookies)
Â  Â  Â  Â  Â  Â  } else if (cupomCode === CUPOM_FAVUCOOKIES) {
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // ValidaÃ§Ã£o de Item
Â  Â  Â  Â  Â  Â  Â  Â  if (!hasCookieItem) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = 'Cupom vÃ¡lido apenas para Cookies.';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // ValidaÃ§Ã£o de Data: USA A DATA ATUAL
Â  Â  Â  Â  Â  Â  Â  Â  const dataAtual = new Date();
Â  Â  Â  Â  Â  Â  Â  Â  const diaDaSemana = dataAtual.getDay(); // 0 = Domingo, 1 = Segunda, ..., 6 = SÃ¡bado

Â  Â  Â  Â  Â  Â  Â  Â  // VÃ¡lido de Segunda (1) a Quinta (4)
Â  Â  Â  Â  Â  Â  Â  Â  if (diaDaSemana === 0 || diaDaSemana === 5 || diaDaSemana === 6) { // Domingo, Sexta, SÃ¡bado
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = 'Cupom vÃ¡lido apenas para pedidos realizados entre Segunda e Quinta-feira.';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // ValidaÃ§Ã£o de Quantidade (tambÃ©m exige 4)
Â  Â  Â  Â  Â  Â  Â  Â  if (totalCookies < minCookiesCupom) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = `CUPOM VÃLIDO APENAS PARA NO MÃNIMO ${minCookiesCupom} COOKIES.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // AplicaÃ§Ã£o do Desconto
Â  Â  Â  Â  Â  Â  Â  Â  const descontoTotal = subtotalCookies * taxaDesconto; 
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  codigo: cupomCode,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  desconto: descontoTotal, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mensagem: `CUPOM ${cupomCode} APLICADO! (10% OFF)` 
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-success');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  } else if (cupomCode) {
Â  Â  Â  Â  Â  Â  Â  Â  cupomAplicado.mensagem = `CÃ³digo "${cupomCode}" invÃ¡lido.`;
Â  Â  Â  Â  Â  Â  Â  Â  cupomMessage.classList.add('cupom-error');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  cupomMessage.textContent = cupomAplicado.mensagem;
Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  // FUNÃ‡Ã•ES DE EDIÃ‡ÃƒO E EXCLUSÃƒO - MANTIDAS
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  
Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Zera a quantidade de um item e atualiza o resumo.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function excluirItem(itemId) {
Â  Â  Â  Â  Â  Â  const inputNoMain = document.querySelector(`.quantidade-input[data-item-id="${itemId}"]`);
Â  Â  Â  Â  Â  Â  if (inputNoMain) {
Â  Â  Â  Â  Â  Â  Â  Â  inputNoMain.value = "0"; // Alterado para '0' (zero) para manter a coerÃªncia visual
Â  Â  Â  Â  Â  Â  Â  Â  // Dispara o evento 'input' para atualizar a interface imediatamente
Â  Â  Â  Â  Â  Â  Â  Â  inputNoMain.dispatchEvent(new Event('input')); 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // Revalida o cupom apÃ³s a exclusÃ£o
Â  Â  Â  Â  Â  Â  if (cupomAplicado.codigo) aplicarCupom();
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // ForÃ§a a reabertura do popup para refletir a exclusÃ£o (pois ele seria fechado se o total fosse zero)
Â  Â  Â  Â  Â  Â  if (parseFloat(document.getElementById("summary-total").textContent.replace('R$ ', '').replace('.', '').replace(',', '.')) > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  abrirResumoPopup();
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  fecharResumoPopup();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Atualiza o campo de quantidade principal e aciona a recontagem total.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function atualizarQuantidadeDireta(inputElement) {
Â  Â  Â  Â  Â  Â  const itemId = inputElement.getAttribute('data-item-id');
Â  Â  Â  Â  Â  Â  const valorInput = inputElement.value.replace(/[^0-9]/g, ''); 
Â  Â  Â  Â  Â  Â  let novaQuantidade = parseInt(valorInput) || 0;

Â  Â  Â  Â  Â  Â  const inputNoMain = document.querySelector(`.quantidade-input[data-item-id="${itemId}"]`);

Â  Â  Â  Â  Â  Â  if (inputNoMain) {
Â  Â  Â  Â  Â  Â  Â  Â  if (novaQuantidade <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  novaQuantidade = 0; 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inputElement.value = "0"; 
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inputElement.value = novaQuantidade; 
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // 2. Atualiza o valor no campo principal da tabela
Â  Â  Â  Â  Â  Â  Â  Â  inputNoMain.value = novaQuantidade;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // 3. Dispara a atualizaÃ§Ã£o total (que recria o pop-up e aplica as validaÃ§Ãµes)
Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // 4. Se o cupom estava ativo, revalida
Â  Â  Â  Â  Â  Â  Â  Â  if (cupomAplicado.codigo) aplicarCupom();

Â  Â  Â  Â  Â  Â  Â  Â  // 5. Reabrimos o popup para garantir que a lista esteja consistente e os totais atualizados.
Â  Â  Â  Â  Â  Â  Â  Â  if (parseFloat(document.getElementById("summary-total").textContent.replace('R$ ', '').replace('.', '').replace(',', '.')) > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  abrirResumoPopup(); 
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fecharResumoPopup();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  // FUNÃ‡ÃƒO DE ATUALIZAÃ‡ÃƒO DO TOTAL - MANTIDA
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  function atualizarTotal() {
Â  Â  Â  Â  Â  Â  let totalBruto = 0;
Â  Â  Â  Â  Â  Â  let totalItens = 0;
Â  Â  Â  Â  Â  Â  const resumoItensPopup = document.getElementById("popup-resumo-itens");
Â  Â  Â  Â  Â  Â  const resumoTotalPopup = document.getElementById("popup-resumo-total");
Â  Â  Â  Â  Â  Â  const fixedSummary = document.getElementById("fixed-summary");
Â  Â  Â  Â  Â  Â  const fazerPedidoContainer = document.getElementById("fazer-pedido-button-container");
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (!resumoItensPopup || !fixedSummary || !fazerPedidoContainer) return;
Â  Â  Â  Â  Â  Â  resumoItensPopup.innerHTML = ''; 

Â  Â  Â  Â  Â  Â  const gruposResumo = {}; 
Â  Â  Â  Â  Â  Â  const totaisPorGrupo = {};

Â  Â  Â  Â  Â  Â  // Lista de grupos que usam a validaÃ§Ã£o de mÃ­nimo individual
Â  Â  Â  Â  Â  Â  const gruposComMinimoIndividual = ["Doces", "Salgados Fritos", "Salgados Assados", "Salgados Vegetarianos"];

Â  Â  Â  Â  Â  Â  document.querySelectorAll(".quantidade-input").forEach(input => {
Â  Â  Â  Â  Â  Â  Â  Â  const quantidade = parseInt(input.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const min = parseInt(input.getAttribute("data-min")) || 1;
Â  Â  Â  Â  Â  Â  Â  Â  const preco = parseFloat(input.getAttribute("data-preco")) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const descricaoResumo = input.getAttribute("data-resumo");
Â  Â  Â  Â  Â  Â  Â  Â  const grupo = input.getAttribute("data-grupo");
Â  Â  Â  Â  Â  Â  Â  Â  const itemId = input.getAttribute("data-item-id");
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  const erroElemento = input.closest('.quantidade-container').querySelector('.erro-item-unico');
Â  Â  Â  Â  Â  Â  Â  Â  const idTabela = `tabela-${grupo.toLowerCase().replace(/\s/g, '-')}`;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // VERIFICAÃ‡ÃƒO DE MÃNIMO INDIVIDUAL
Â  Â  Â  Â  Â  Â  Â  Â  const isIndividualMinCheck = gruposComMinimoIndividual.includes(grupo) && min > 1; 

Â  Â  Â  Â  Â  Â  Â  Â  // 1. Soma a quantidade no total do grupo
Â  Â  Â  Â  Â  Â  Â  Â  if (!totaisPorGrupo[grupo]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totaisPorGrupo[grupo] = { quantidade: 0, items: [] };
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  totaisPorGrupo[grupo].quantidade += quantidade;
Â  Â  Â  Â  Â  Â  Â  Â  totaisPorGrupo[grupo].items.push({ input, quantidade, min, preco, descricaoResumo, itemId, grupo });

Â  Â  Â  Â  Â  Â  Â  Â  // 2. ValidaÃ§Ã£o MÃNIMO INDIVIDUAL (Apenas exibe o erro visual na tabela principal)
Â  Â  Â  Â  Â  Â  Â  Â  if (isIndividualMinCheck && quantidade > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (quantidade < min) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // EXIBE MENSAGEM DE ERRO
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (erroElemento) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  erroElemento.textContent = `MÃ­n ${min} Unid.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  erroElemento.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // OCULTA MENSAGEM se for vÃ¡lido
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (erroElemento) erroElemento.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Oculta a mensagem se a quantidade for 0 ou nÃ£o for para checar individualmente
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (erroElemento) erroElemento.style.display = 'none'; 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  let temErroDeMinimo = false;

Â  Â  Â  Â  Â  Â  // 3. Processa os totais e cria o resumo para o pop-up
Â  Â  Â  Â  Â  Â  for (const grupo in totaisPorGrupo) {
Â  Â  Â  Â  Â  Â  Â  Â  const infoGrupo = totaisPorGrupo[grupo];
Â  Â  Â  Â  Â  Â  Â  Â  const idTabela = `tabela-${grupo.toLowerCase().replace(/\s/g, '-')}`;
Â  Â  Â  Â  Â  Â  Â  Â  const minTotal = gruposItens[idTabela]?.minTotal || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const isCookieGroup = grupo === "Cookies";
Â  Â  Â  Â  Â  Â  Â  Â  const erroCategoriaElemento = isCookieGroup ? document.getElementById('erro-cookies') : null;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  let grupoValido = true;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // ValidaÃ§Ã£o MÃNIMO POR GRUPO (ex: Cookies: minTotal=3)
Â  Â  Â  Â  Â  Â  Â  Â  if (minTotal > 0 && infoGrupo.quantidade > 0 && infoGrupo.quantidade < minTotal) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grupoValido = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  temErroDeMinimo = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (erroCategoriaElemento) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  erroCategoriaElemento.textContent = `MÃ­nimo de ${minTotal} unidades na categoria ${grupo}.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  erroCategoriaElemento.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (erroCategoriaElemento) erroCategoriaElemento.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // Adiciona itens vÃ¡lidos ao subtotal
Â  Â  Â  Â  Â  Â  Â  Â  infoGrupo.items.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isIndividualMinCheck = gruposComMinimoIndividual.includes(grupo) && item.min > 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isItemValido = item.quantidade >= item.min;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.quantidade > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let shouldIncludeInTotal = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isIndividualMinCheck && !isItemValido) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â shouldIncludeInTotal = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â temErroDeMinimo = true; // Marca erro se falhar no min individual
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Checa o erro de grupo para Cookies (ou outros grupos com minTotal > 0)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (minTotal > 0 && !grupoValido) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â shouldIncludeInTotal = false; // Marca erro se falhar no min de grupo
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (shouldIncludeInTotal) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const totalItem = item.quantidade * item.preco;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalBruto += totalItem;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalItens += item.quantidade;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Inclui no resumo (pop-up) se a quantidade for > 0
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!gruposResumo[grupo]) gruposResumo[grupo] = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gruposResumo[grupo].push({ ...item });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Aplica o desconto do cupom
Â  Â  Â  Â  Â  Â  const descontoTotal = cupomAplicado.desconto;
Â  Â  Â  Â  Â  Â  let totalLiquido = totalBruto;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (descontoTotal > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  totalLiquido = totalBruto - descontoTotal;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const totalBrutoFormatado = totalBruto.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
Â  Â  Â  Â  Â  Â  const totalLiquidoFormatado = totalLiquido.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 1. Atualiza o conteÃºdo do Pop-up Resumo
Â  Â  Â  Â  Â  Â  for (const grupo in gruposResumo) {
Â  Â  Â  Â  Â  Â  Â  Â  resumoItensPopup.innerHTML += `<strong>${grupo}:</strong><br>`;
Â  Â  Â  Â  Â  Â  Â  Â  gruposResumo[grupo].forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const precoTotalItem = item.quantidade * item.preco;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let precoExibicao = `R$ ${precoTotalItem.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // GeraÃ§Ã£o do item com campo de ediÃ§Ã£o direta
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resumoItensPopup.innerHTML += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="resumo-item-line">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="resumo-item-name">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${item.descricaoResumo} 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <small>${precoExibicao}</small>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="resumo-item-input-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  min="0" 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value="${item.quantidade}" 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data-item-id="${item.itemId}" 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onblur="atualizarQuantidadeDireta(this)">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  un.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="resumo-item-actions">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-excluir" onclick="excluirItem('${item.itemId}')">EXCLUIR</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 2. Atualiza o total exibido no Pop-up (incluindo desconto se houver)
Â  Â  Â  Â  Â  Â  if (descontoTotal > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â resumoTotalPopup.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="resumo-total-line">SUBTOTAL: R$ ${totalBrutoFormatado}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="resumo-total-line total-com-desconto">DESCONTO CUPOM: R$ ${descontoTotal.toFixed(2).replace('.', ',')}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="resumo-total">TOTAL: R$ ${totalLiquidoFormatado}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â `;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â resumoTotalPopup.textContent = `TOTAL: R$ ${totalBrutoFormatado}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â // Garante que o campo de cupom nÃ£o mantenha a mensagem de sucesso se o total for 0
Â  Â  Â  Â  Â  Â  Â  Â  Â const cupomMessage = document.getElementById('cupom-message');
Â  Â  Â  Â  Â  Â  Â  Â  Â if (totalBruto === 0 && cupomMessage) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â cupomMessage.textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â cupomAplicado = { codigo: null, desconto: 0, mensagem: '' };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 3. Controla a visibilidade do botÃ£o "Fazer Pedido" no pop-up
Â  Â  Â  Â  Â  Â  if (totalBruto > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â fazerPedidoContainer.innerHTML = '<button onclick="abrirPopup()">FAZER PEDIDO</button>';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â fazerPedidoContainer.innerHTML = '';
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 4. Atualiza e exibe o RodapÃ© Fixo
Â  Â  Â  Â  Â  Â  if (totalBruto > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("summary-total").textContent = `R$ ${totalLiquidoFormatado}`;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("summary-item-count").textContent = ` / ${totalItens} ${totalItens === 1 ? 'item' : 'itens'}`;
Â  Â  Â  Â  Â  Â  Â  Â  fixedSummary.style.display = 'block';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("summary-total").textContent = `R$ 0,00`;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("summary-item-count").textContent = ` / 0 itens`;
Â  Â  Â  Â  Â  Â  Â  Â  fixedSummary.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  fecharResumoPopup();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  // FUNÃ‡Ã•ES POPUP E CONFIRMAR PEDIDO - MANTIDAS
Â  Â  Â  Â  // -----------------------------------------------------
Â  Â  Â  Â  function abrirResumoPopup() {
Â  Â  Â  Â  Â  Â  // Garante que a mensagem do cupom seja exibida corretamente ao abrir
Â  Â  Â  Â  Â  Â  const cupomMessage = document.getElementById('cupom-message');
Â  Â  Â  Â  Â  Â  cupomMessage.className = 'cupom-message';
Â  Â  Â  Â  Â  Â  cupomMessage.textContent = cupomAplicado.mensagem;
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const totalText = document.getElementById("summary-total").textContent;
Â  Â  Â  Â  Â  Â  const total = parseFloat(totalText.replace('R$ ', '').replace('.', '').replace(',', '.')) || 0; 
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (total > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â document.getElementById("popup-resumo").style.display = "flex";
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â alert("Seu pedido estÃ¡ vazio. Adicione itens para visualizar o resumo!");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function fecharResumoPopup() {
Â  Â  Â  Â  Â  Â  document.getElementById("popup-resumo").style.display = "none";
Â  Â  Â  Â  }

Â  Â  Â  Â  function abrirPopup() {
Â  Â  Â  Â  Â  Â  fecharResumoPopup(); 
Â  Â  Â  Â  Â  Â  document.getElementById("popup-pedido").style.display = "flex";
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function fecharPopup() {
Â  Â  Â  Â  Â  Â  document.getElementById("popup-pedido").style.display = "none";
Â  Â  Â  Â  }

Â  Â  Â  Â  // NOVO BOTÃƒO: Volta para o popup de resumo
Â  Â  Â  Â  function editarPedido() {
Â  Â  Â  Â  Â  Â  fecharPopup(); // Fecha o popup de informaÃ§Ãµes do pedido
Â  Â  Â  Â  Â  Â  abrirResumoPopup(); // Abre o popup de resumo do pedido
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  function resetarCampos() {
Â  Â  Â  Â  Â  Â  document.querySelectorAll(".quantidade-input").forEach(input => {
Â  Â  Â  Â  Â  Â  Â  Â  input.value = "0"; // Alterado para "0" ao resetar
Â  Â  Â  Â  Â  Â  Â  Â  // Esconde erros individuais
Â  Â  Â  Â  Â  Â  Â  Â  const erroElemento = input.closest('.quantidade-container').querySelector('.erro-item-unico');
Â  Â  Â  Â  Â  Â  Â  Â  if (erroElemento) erroElemento.style.display = 'none';
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Esconde erros de categoria
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.erro-categoria').forEach(el => el.style.display = 'none');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const resumoItens = document.getElementById("popup-resumo-itens");
Â  Â  Â  Â  Â  Â  const resumoTotal = document.getElementById("popup-resumo-total");
Â  Â  Â  Â  Â  Â  if (resumoItens) resumoItens.innerHTML = '';
Â  Â  Â  Â  Â  Â  if (resumoTotal) resumoTotal.textContent = '';
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Limpa o cupom ao resetar
Â  Â  Â  Â  Â  Â  limparCupom();

Â  Â  Â  Â  Â  Â  fecharPopup();
Â  Â  Â  Â  Â  Â  fecharResumoPopup();
Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  window.scrollTo(0, 0);
Â  Â  Â  Â  }

Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  // FUNÃ‡ÃƒO PRINCIPAL DE ENVIO (AJUSTADA PARA APPS SCRIPT + WHATSAPP)
Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  async function confirmarPedido() { 
Â  Â  Â  Â  Â  Â  // Linha riscada para separar o resumo dos itens das informaÃ§Ãµes do cliente
Â  Â  Â  Â  Â  Â  const linhaSeparadora = "\n\n*- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -*\n\n";

Â  Â  Â  Â  Â  Â  // O resumo para WhatsApp e para o campo de Resumo da Planilha
Â  Â  Â  Â  Â  Â  let resumoParaEnvio = "OlÃ¡, Favu!\nGostaria de saber a disponibilidade para encomendar os itens abaixo:\n\n\n*_- Resumo do pedido_:*\n\n";
Â  Â  Â  Â  Â  Â  let totalPedido = 0; // Total Bruto
Â  Â  Â  Â  Â  Â  let temErroDeMinimo = false;

Â  Â  Â  Â  Â  Â  const gruposResumo = {}; 
Â  Â  Â  Â  Â  Â  const totaisPorGrupo = {};

Â  Â  Â  Â  Â  Â  const gruposComMinimoIndividual = ["Doces", "Salgados Fritos", "Salgados Assados", "Salgados Vegetarianos"];

Â  Â  Â  Â  Â  Â  // 1. Preenche totaisPorGrupo (lÃ³gica repetida de atualizarTotal para validaÃ§Ã£o e resumo)
Â  Â  Â  Â  Â  Â  document.querySelectorAll(".quantidade-input").forEach(input => {
Â  Â  Â  Â  Â  Â  Â  Â  const quantidade = parseInt(input.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const min = parseInt(input.getAttribute("data-min")) || 1;
Â  Â  Â  Â  Â  Â  Â  Â  const preco = parseFloat(input.getAttribute("data-preco")) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const descricaoResumo = input.getAttribute("data-resumo");
Â  Â  Â  Â  Â  Â  Â  Â  const grupo = input.getAttribute("data-grupo");
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  if (!totaisPorGrupo[grupo]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totaisPorGrupo[grupo] = { quantidade: 0, items: [] };
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  totaisPorGrupo[grupo].quantidade += quantidade;
Â  Â  Â  Â  Â  Â  Â  Â  totaisPorGrupo[grupo].items.push({ quantidade, min, preco, descricaoResumo, grupo });
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // 2. Valida e Calcula o Total Bruto para o Resumo
Â  Â  Â  Â  Â  Â  for (const grupo in totaisPorGrupo) {
Â  Â  Â  Â  Â  Â  Â  Â  const infoGrupo = totaisPorGrupo[grupo];
Â  Â  Â  Â  Â  Â  Â  Â  const idTabela = `tabela-${grupo.toLowerCase().replace(/\s/g, '-')}`;
Â  Â  Â  Â  Â  Â  Â  Â  const minTotal = gruposItens[idTabela]?.minTotal || 0;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  let grupoValido = true;
Â  Â  Â  Â  Â  Â  Â  Â  if (minTotal > 0 && infoGrupo.quantidade > 0 && infoGrupo.quantidade < minTotal) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grupoValido = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  temErroDeMinimo = true;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  infoGrupo.items.forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isIndividualMinCheck = gruposComMinimoIndividual.includes(grupo) && item.min > 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isItemValido = item.quantidade >= item.min;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let shouldIncludeInTotal = true;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.quantidade > 0 && isIndividualMinCheck && !isItemValido) { 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  shouldIncludeInTotal = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  temErroDeMinimo = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (minTotal > 0 && !grupoValido) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  shouldIncludeInTotal = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (item.quantidade > 0 && shouldIncludeInTotal) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const totalItem = item.quantidade * item.preco;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalPedido += totalItem;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!gruposResumo[grupo]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gruposResumo[grupo] = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gruposResumo[grupo].push({ descricao: item.descricaoResumo, quantidade: item.quantidade });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // ************ VALIDAÃ‡ÃƒO DE BLOQUEIO ************
Â  Â  Â  Â  Â  Â  if (totalPedido === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Seu pedido estÃ¡ vazio. Adicione itens para confirmar.");
Â  Â  Â  Â  Â  Â  Â  Â  fecharPopup();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (temErroDeMinimo) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Por favor, ajuste as quantidades mÃ­nimas do seu pedido antes de confirmar.");
Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal(); // Recarrega os totais e erros
Â  Â  Â  Â  Â  Â  Â  Â  abrirResumoPopup();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // ************ FIM DA VALIDAÃ‡ÃƒO DE BLOQUEIO ************

Â  Â  Â  Â  Â  Â  // Aplica desconto
Â  Â  Â  Â  Â  Â  const desconto = cupomAplicado.desconto;
Â  Â  Â  Â  Â  Â  const totalLiquido = totalPedido - desconto;

Â  Â  Â  Â  Â  Â  // 3. Monta o Resumo Completo (para API e WhatsApp)
Â  Â  Â  Â  Â  Â  for (const grupo in gruposResumo) {
Â  Â  Â  Â  Â  Â  Â  Â  resumoParaEnvio += `*${grupo}:*\n`;
Â  Â  Â  Â  Â  Â  Â  Â  gruposResumo[grupo].forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resumoParaEnvio += `${item.descricao} - ${item.quantidade} unidades\n`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  resumoParaEnvio += `\n`; 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  resumoParaEnvio += `*Total Bruto*: R$ ${totalPedido.toFixed(2).replace('.', ',')}\n`; 

Â  Â  Â  Â  Â  Â  if (desconto > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  resumoParaEnvio += `*Desconto Cupom (${cupomAplicado.codigo})*: R$ ${desconto.toFixed(2).replace('.', ',')}\n`;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  resumoParaEnvio += `*_Total Final_*: R$ ${totalLiquido.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

Â  Â  Â  Â  Â  Â  const nome = document.getElementById("nome").value;
Â  Â  Â  Â  Â  Â  const data = document.getElementById("data").value;
Â  Â  Â  Â  Â  Â  const horario = document.getElementById("horario").value;
Â  Â  Â  Â  Â  Â  const pagamento = document.getElementById("pagamento").value;

Â  Â  Â  Â  Â  Â  if (!nome || !data || !horario || !pagamento) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Por gentileza, preencha todos os campos!");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const dataParts = data.split("-");
Â  Â  Â  Â  Â  Â  const dataFormatada = `${dataParts[2]}/${dataParts[1]}/${dataParts[0]}`;

Â  Â  Â  Â  Â  Â  // Inclui a linha separadora e os dados do cliente
Â  Â  Â  Â  Â  Â  resumoParaEnvio += linhaSeparadora;
Â  Â  Â  Â  Â  Â  resumoParaEnvio += `_*- InformaÃ§Ãµes do Cliente:*_\n\n*Nome*: ${nome}\n*Data da Entrega*: ${dataFormatada}\n*HorÃ¡rio da Entrega*: ${horario}\n*Forma de Pagamento*: ${pagamento}`;

Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // -------------------------------------------------------------
Â  Â  Â  Â  Â  Â  // BLOCO: ENVIO DOS DADOS PARA O GOOGLE APPS SCRIPT
Â  Â  Â  Â  Â  Â  // -------------------------------------------------------------
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  const formData = new FormData();
Â  Â  Â  Â  Â  Â  formData.append('action', 'createOrder'); 
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  formData.append('Nome do Cliente', nome);
Â  Â  Â  Â  Â  Â  formData.append('Data da Entrega', dataFormatada); 
Â  Â  Â  Â  Â  Â  formData.append('HorÃ¡rio da Entrega', horario);
Â  Â  Â  Â  Â  Â  formData.append('Forma de Pagamento', pagamento);
Â  Â  Â  Â  Â  Â  formData.append('Total Bruto', totalPedido.toFixed(2).replace('.', ','));
Â  Â  Â  Â  Â  Â  formData.append('Desconto', desconto.toFixed(2).replace('.', ','));
Â  Â  Â  Â  Â  Â  formData.append('Total Final', totalLiquido.toFixed(2).replace('.', ','));
Â  Â  Â  Â  Â  Â  formData.append('Cupom Aplicado', cupomAplicado.codigo || 'Nenhum');
Â  Â  Â  Â  Â  Â  // Campo principal que contÃ©m todos os detalhes do pedido
Â  Â  Â  Â  Â  Â  formData.append('Resumo dos Itens', resumoParaEnvio); 

Â  Â  Â  Â  Â  Â  // Converte FormData para URLSearchParams (formato que Apps Script espera no doPost(e))
Â  Â  Â  Â  Â  Â  const urlEncodedData = new URLSearchParams(formData);

Â  Â  Â  Â  Â  Â  // Configura o botÃ£o para o estado de envio
Â  Â  Â  Â  Â  Â  const submitButton = document.querySelector('button[onclick="confirmarPedido()"]');
Â  Â  Â  Â  Â  Â  const originalText = submitButton.textContent;
Â  Â  Â  Â  Â  Â  submitButton.textContent = 'ENVIANDO...';
Â  Â  Â  Â  Â  Â  submitButton.disabled = true;

Â  Â  Â  Â  Â  Â  let apiSuccess = false;

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  // Envia para o Apps Script (com action=createOrder no POST)
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(APPS_SCRIPT_URL, { 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: urlEncodedData // VersÃ£o corrigida
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  const responseData = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (response.ok && responseData.success) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Pedido registrado com sucesso na Planilha! VocÃª serÃ¡ redirecionado para o WhatsApp.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  apiSuccess = true;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Erro API:', responseData.message || responseData);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`Falha no registro do pedido. Enviando via WhatsApp. Erro: ${responseData.message || 'API indisponÃ­vel'}`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Erro de rede ao enviar para Apps Script:', error);
Â  Â  Â  Â  Â  Â  Â  Â  alert("Erro de conexÃ£o. Enviando via WhatsApp para garantir o pedido.");
Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  // Restaura o estado do botÃ£o
Â  Â  Â  Â  Â  Â  Â  Â  submitButton.textContent = originalText;
Â  Â  Â  Â  Â  Â  Â  Â  submitButton.disabled = false;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 4. Abre o WhatsApp (sempre)
Â  Â  Â  Â  Â  Â  const whatsappLink = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(resumoParaEnvio)}`;
Â  Â  Â  Â  Â  Â  window.open(whatsappLink, '_blank');

Â  Â  Â  Â  Â  Â  // 5. Se o envio foi bem-sucedido para a API, reseta o formulÃ¡rio.
Â  Â  Â  Â  Â  Â  if (apiSuccess) {
Â  Â  Â  Â  Â  Â  Â  Â  resetarCampos();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  // FIM DA FUNÃ‡ÃƒO PRINCIPAL
Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  
Â  Â  Â  Â  document.addEventListener("DOMContentLoaded", function () {
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 1. Cria as tabelas
Â  Â  Â  Â  Â  Â  for (const idTabela in gruposItens) {
Â  Â  Â  Â  Â  Â  Â  Â  const tabelaId = idTabela;
Â  Â  Â  Â  Â  Â  Â  Â  criarTabelaGrupo(gruposItens[idTabela].itens, tabelaId, gruposItens[idTabela].nomeGrupo);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 2. Evento para atualizar o total (mantido como input para a tabela principal)
Â  Â  Â  Â  Â  Â  const gruposComMinimoIndividual = ["Doces", "Salgados Fritos", "Salgados Assados", "Salgados Vegetarianos"];

Â  Â  Â  Â  Â  Â  document.querySelectorAll(".quantidade-input").forEach(input => {
Â  Â  Â  Â  Â  Â  Â  Â  input.addEventListener("input", atualizarTotal);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  input.addEventListener("blur", function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const quantidade = parseInt(this.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const min = parseInt(this.getAttribute("data-min")) || 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const grupo = this.getAttribute("data-grupo");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.value === "" || quantidade <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.value = "0"; 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.value = quantidade.toString();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // NUNCA CORRIGE O VALOR: Apenas chama o atualizarTotal para exibir a mensagem de erro.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 3. Evento de Clique nas Abas (Filtro e Rolagem OTIMIZADA)
Â  Â  Â  Â  Â  Â  const categoriasBar = document.getElementById('categorias-horizontal');
Â  Â  Â  Â  Â  Â  const links = categoriasBar.querySelectorAll('a');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  links.forEach(link => {
Â  Â  Â  Â  Â  Â  Â  Â  link.addEventListener('click', function(e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ativarAba(this);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const targetImageId = this.getAttribute('data-img');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const targetElement = document.getElementById(targetImageId);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (targetElement) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scrollToElement(targetElement);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // 4. Inicia com a primeira aba (Bolos Tradicionais) ativada
Â  Â  Â  Â  Â  Â  const primeiroLink = document.querySelector('#categorias-horizontal a[data-target="grupo-bolo-tradicional"]');
Â  Â  Â  Â  Â  Â  const primeiroGrupo = document.getElementById('grupo-bolo-tradicional');
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  if (primeiroLink) {
Â  Â  Â  Â  Â  Â  Â  Â  primeiroLink.classList.add('active-link');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  if (primeiroGrupo) {
Â  Â  Â  Â  Â  Â  Â  Â  primeiroGrupo.classList.add('active-group');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // 5. FECHAMENTO DO POPUP AO CLICAR FORA (CORREÃ‡ÃƒO)
Â  Â  Â  Â  Â  Â  document.addEventListener('click', function(event) {
Â  Â  Â  Â  Â  Â  Â  Â  const popupResumo = document.getElementById('popup-resumo');
Â  Â  Â  Â  Â  Â  Â  Â  const popupPedido = document.getElementById('popup-pedido');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Fechando o pop-up de resumo se o clique for no overlay
Â  Â  Â  Â  Â  Â  Â  Â  if (popupResumo && popupResumo.style.display === 'flex' && event.target === popupResumo) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fecharResumoPopup();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Fechando o pop-up de pedido se o clique for no overlay
Â  Â  Â  Â  Â  Â  Â  Â  if (popupPedido && popupPedido.style.display === 'flex' && event.target === popupPedido) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fecharPopup();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });


Â  Â  Â  Â  Â  Â  const confirmarPedidoButton = document.querySelector('button[onclick="confirmarPedido()"]');
Â  Â  Â  Â  Â  Â  if (confirmarPedidoButton) {
Â  Â  Â  Â  Â  Â  Â  Â  confirmarPedidoButton.addEventListener("click", confirmarPedido);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  atualizarTotal();
Â  Â  Â  Â  });
Â  Â  </script>
Â  Â  
</body>
</html>
